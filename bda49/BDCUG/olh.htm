<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Oracle Loader for Hadoop</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="keywords" content="DelimitedTextInputFormat class, HDFS files, loading data into an Oracle database, Oracle Loader for Hadoop, input formats, balancing loads in Oracle Loader for Hadoop, load balancing, in Oracle Loader for Hadoop, OraLoader, Apache licenses, Avro license" />
<meta name="dcterms.created" content="2017-08-30T11:30:54Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Big Data Connectors User's Guide" />
<meta name="dcterms.identifier" content="E84228-02" />
<meta name="dcterms.isVersionOf" content="BDCUG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2011, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/bigdata/bda49/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="osch.htm" title="Previous" type="text/html" />
<link rel="Next" href="easofusetools.htm" title="Next" type="text/html" />
<link rel="alternate" href="BDCUG.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-DD78109A-77D8-4A31-B930-2F57ACE6F98E"></a> <span id="PAGE" style="display:none;">8/29</span> <!-- End Header -->
<a id="BDCUG140"></a>
<h1 id="BDCUG-GUID-DD78109A-77D8-4A31-B930-2F57ACE6F98E" class="sect1"><span class="enumeration_chapter">3</span> Oracle Loader for Hadoop</h1>
<div>
<p>This chapter explains how to use Oracle Loader for Hadoop to load data from Apache Hadoop into tables in an Oracle database. It contains the following sections:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="olh.htm#GUID-021C689C-EF42-49A5-A92E-AABAEC302F4F">What Is Oracle Loader for Hadoop?</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-3D76103E-6620-42F9-924B-36DEAA1BF483">About the Modes of Operation</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-7EB8939B-165A-4A4A-84FE-D8BA00573C7D">Getting Started With Oracle Loader for Hadoop</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-94F2DD27-FED2-469F-8968-D94FB6AE962C">Creating the Target Table</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-9D47AE4C-0D31-44E0-AC6A-07BBDD94EE05">Creating a Job Configuration File</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-526F38E4-3C77-4611-9B55-1AF080AA861D">About the Target Table Metadata</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-D697AE02-273B-4966-9570-1AB8604D9E76">About Input Formats</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-3C845932-1F8C-4ECC-AD87-B71E8344D5BF">Mapping Input Fields to Target Table Columns</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-3D329A46-E0D5-4813-AE23-8D0C3F247B82">About Output Formats</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-EF6FA81A-556F-4454-B039-DAA8BB9F317A">Running a Loader Job</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-E435097B-41B3-4DD7-B0CA-4B94D6BF6729">Handling Rejected Records</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-75DCE50C-2476-4FDC-8DF5-FAE9F0CF78EA">Balancing Loads When Loading Data into Partitioned Tables</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-39037FAE-724C-4661-9FA0-59E5D7C18FF7">Optimizing Communications Between Oracle Engineered Systems</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52">Oracle Loader for Hadoop Configuration Property Reference</a></p>
</li>
</ul>
</div>
<a id="BDCUG141"></a>
<div class="props_rev_3"><a id="GUID-021C689C-EF42-49A5-A92E-AABAEC302F4F"></a>
<h2 id="BDCUG-GUID-021C689C-EF42-49A5-A92E-AABAEC302F4F" class="sect2"><span class="enumeration_section">3.1</span> What Is Oracle Loader for Hadoop?</h2>
<div>
<p><a id="d19675e95" class="indexterm-anchor"></a>Oracle Loader for Hadoop is an efficient and high-performance loader for fast loading of data from a Hadoop cluster into a <a id="d19675e100" class="indexterm-anchor"></a>table in an Oracle database. It pre-partitions the data if necessary and transforms it into a database-ready format. It can also sort records by primary key or user-specified columns before loading the data or creating output files. Oracle Loader for Hadoop uses the parallel processing framework of Hadoop to perform these preprocessing operations, which other loaders typically perform on the database server as part of the load process. Off-loading these operations to Hadoop reduces the CPU requirements on the database server, thereby lessening the performance impact on other database tasks.</p>
<p>Oracle Loader for Hadoop is a Java MapReduce application that balances the data across reducers to help maximize performance. It works with a range of input data formats that present the data as records with fields. It can read from sources that have the data already in a record format (such as Avro files or Apache Hive tables), or it can split the lines of a text file into fields.</p>
<p>If you have Java programming skills, you can extend the types of data that the loader can handle by defining custom input formats. Then Oracle Loader for Hadoop uses your code to extract the fields and records.</p>
<div class="section">
<p class="subhead2">Interfaces to Oracle Loader For Hadoop</p>
There are two ways to use Oracle Loader for Hadoop:
<ul style="list-style-type: disc;">
<li>
<p>The <code class="codeph">hadoop</code> command-line utility.</p>
<p>On the command line, you provide configuration settings with the details of the job. You typically provide these settings in a job configuration file</p>
</li>
<li>
<p>Through <span class="italic">Oracle SQL Developer</span>.</p>
<p>Oracle SQL Developer is a free graphical IDE that includes integration with Oracle Database and Oracle Big Data Connectors (among many other products). It provides wizards to help you access and use Oracle Big Data Connectors. See <a href="easofusetools.htm#GUID-356A3CC3-4E8D-416F-9805-61574614C1FE" title="Oracle SQL Developer is an essentially a graphical version SQL*Plus. Among its features is a user-friendly interface to tools for moving data between Hadoop and Oracle Database. It includes support for Copy to Hadoop, Oracle Loader for Hadoop, and Oracle SQL Connector for Hadoop Distributed File System (as well as Oracle Big Data SQL). There are wizards in the interface to assist with use of all of of these tools.">Using Oracle SQL Developer With Oracle Big Data Connectors</a> in this guide for instructions on downloading Oracle SQL Developer and configuring it for use with Oracle Big Data Connectors.</p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG454"></a>
<div class="props_rev_3"><a id="GUID-3D76103E-6620-42F9-924B-36DEAA1BF483"></a>
<h2 id="BDCUG-GUID-3D76103E-6620-42F9-924B-36DEAA1BF483" class="sect2"><span class="enumeration_section">3.2</span> About the Modes of Operation</h2>
<div>
<p>Oracle Loader for Hadoop operates in two modes:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="olh.htm#GUID-8F233118-40EF-4C54-950B-C51F00DF55BD">Online Database Mode</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-10ADC8ED-8774-4C81-89CC-A94A1B66FFD0">Offline Database Mode</a></p>
</li>
</ul>
</div>
<a id="BDCUG456"></a><a id="BDCUG455"></a>
<div class="props_rev_3"><a id="GUID-8F233118-40EF-4C54-950B-C51F00DF55BD"></a>
<h3 id="BDCUG-GUID-8F233118-40EF-4C54-950B-C51F00DF55BD" class="sect3"><span class="enumeration_section">3.2.1</span> Online Database Mode</h3>
<div>
<p>In online database mode, Oracle Loader for Hadoop can connect to the target database using the credentials provided in the job configuration file or in an Oracle wallet. The loader obtains the table metadata from the database. It can insert new records directly into the target table or write them to a file in the Hadoop cluster. You can load records from an output file when the data is needed in the database, or when the database system is less busy.</p>
<p>The following figure shows the relationships among elements in online database mode.</p>
<div class="figure" id="GUID-8F233118-40EF-4C54-950B-C51F00DF55BD__BABDEFEC">
<p class="titleinfigure">Figure 3-1 Online Database Mode</p>
<img width="647" height="398" src="img/GUID-6F65617A-9253-4F46-A2B4-400CFF5AEDCD-default.png" alt="Description of Figure 3-1 follows" title="Description of Figure 3-1 follows" /><br />
<a href="img_text/GUID-6F65617A-9253-4F46-A2B4-400CFF5AEDCD-print.htm">Description of "Figure 3-1 Online Database Mode"</a></div>
<!-- class="figure" --></div>
</div>
<a id="BDCUG458"></a><a id="BDCUG457"></a>
<div class="props_rev_3"><a id="GUID-10ADC8ED-8774-4C81-89CC-A94A1B66FFD0"></a>
<h3 id="BDCUG-GUID-10ADC8ED-8774-4C81-89CC-A94A1B66FFD0" class="sect3"><span class="enumeration_section">3.2.2</span> Offline Database Mode</h3>
<div>
<p>Offline database mode enables you to use Oracle Loader for Hadoop when the Oracle Database system is on a separate network from the Hadoop cluster, or is otherwise inaccessible. In this mode, Oracle Loader for Hadoop uses the information supplied in a table metadata file, which you generate using a separate utility. The loader job stores the output data in binary or text format output files on the Hadoop cluster. Loading the data into Oracle Database is a separate procedure using another utility, such as Oracle SQL Connector for Hadoop Distributed File System (HDFS) or SQL*Loader.</p>
<p>The following figure shows the relationships among elements in offline database mode. The figure does not show the separate procedure of loading the data into the target table.</p>
<div class="figure" id="GUID-10ADC8ED-8774-4C81-89CC-A94A1B66FFD0__BABJFDDI">
<p class="titleinfigure">Figure 3-2 Offline Database Mode</p>
<img width="626" height="539" src="img/GUID-05AEF6CC-7EB4-4792-8EA8-C99A1F45D6EB-default.png" alt="Description of Figure 3-2 follows" title="Description of Figure 3-2 follows" /><br />
<a href="img_text/GUID-05AEF6CC-7EB4-4792-8EA8-C99A1F45D6EB-print.htm">Description of "Figure 3-2 Offline Database Mode"</a></div>
<!-- class="figure" --></div>
</div>
</div>
<a id="BDCUG459"></a>
<div class="props_rev_3"><a id="GUID-7EB8939B-165A-4A4A-84FE-D8BA00573C7D"></a>
<h2 id="BDCUG-GUID-7EB8939B-165A-4A4A-84FE-D8BA00573C7D" class="sect2"><span class="enumeration_section">3.3</span> Getting Started With Oracle Loader for Hadoop</h2>
<div>
<div class="section">
<p>You take the following basic steps when using Oracle Loader for Hadoop:</p>
</div>
<!-- class="section" -->
<ol>
<li class="stepexpand"><span>The first time you use Oracle Loader for Hadoop, ensure that the software is installed and configured.</span>
<div>
<p>See <span class="q">"<a href="start.htm#GUID-F6C3C7EA-60A3-47A7-BE31-5E8B4C19988B">Oracle Loader for Hadoop Setup</a>."</span></p>
</div>
</li>
<li class="stepexpand"><span>Connect to Oracle Database and create the target table.</span>
<div>
<p>See <span class="q">"<a href="olh.htm#GUID-94F2DD27-FED2-469F-8968-D94FB6AE962C">Creating the Target Table</a>."</span></p>
</div>
</li>
<li class="stepexpand"><span>If you are using offline database mode, then generate the table metadata.</span>
<div>
<p>See <span class="q">"<a href="olh.htm#GUID-3770DD78-09B3-47FC-A3D9-33F56D4AB9FB">Generating the Target Table Metadata for Offline Database Mode</a>."</span></p>
</div>
</li>
<li class="stepexpand"><span>Log in to either a node in the Hadoop cluster or a system set up as a Hadoop client for the cluster.</span></li>
<li class="stepexpand"><span>If you are using offline database mode, then copy the table metadata to the Hadoop system where you are logged in.</span></li>
<li class="stepexpand"><span>Create a configuration file. This file is an XML document that describes configuration information, such as access to the target table metadata, the input format of the data, and the output format.</span>
<div>
<p>See <span class="q">"<a href="olh.htm#GUID-9D47AE4C-0D31-44E0-AC6A-07BBDD94EE05">Creating a Job Configuration File</a>."</span></p>
</div>
</li>
<li class="stepexpand"><span>Create an XML document that maps input fields to columns in the Oracle database table. Optional.</span>
<div>
<p>See <span class="q">"<a href="olh.htm#GUID-3C845932-1F8C-4ECC-AD87-B71E8344D5BF">Mapping Input Fields to Target Table Columns</a>."</span></p>
</div>
</li>
<li class="stepexpand"><span>Create a shell script to run the Oracle Loader for Hadoop job.</span>
<div>
<p>See <span class="q">"<a href="olh.htm#GUID-EF6FA81A-556F-4454-B039-DAA8BB9F317A">Running a Loader Job</a>."</span></p>
</div>
</li>
<li class="stepexpand"><span>If you are connecting to a secure cluster, then you run <code class="codeph">kinit</code> to authenticate yourself.</span></li>
<li class="stepexpand"><span>Run the shell script.</span></li>
<li class="stepexpand"><span>If the job fails, then use the diagnostic messages in the output to identify and correct the error.</span>
<div>
<p>See <span class="q">"<a href="olh.htm#GUID-43E28B4E-4A51-47B6-A806-394F3ECD9903">Job Reporting</a>."</span></p>
</div>
</li>
<li class="stepexpand"><span>After the job succeeds, check the command output for the number of rejected records. If too many records were rejected, then you may need to modify the input format properties.</span></li>
<li class="stepexpand"><span>If you generated text files or Data Pump-format files, then load the data into Oracle Database using one of these methods:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p>Create an external table using Oracle SQL Connector for HDFS (online database mode only).</p>
<p>See <a href="osch.htm#GUID-03254C3C-3C8F-4C88-AD9D-91ADFDBC488D">Oracle SQL Connector for Hadoop Distributed File System</a>.</p>
</li>
<li>
<p>Copy the files to the Oracle Database system and use SQL*Loader or external tables to load the data into the target database table. Oracle Loader for Hadoop generates scripts that you can use for these methods.</p>
<p>See <span class="q">"<a href="olh.htm#GUID-B7363850-D1E0-4E14-9391-01FCB6175C3A">About DelimitedTextOutputFormat</a>"</span> or <span class="q">"<a href="olh.htm#GUID-4CFAC56A-DFFA-48A6-9BF4-2126AE558B28">About DataPumpOutputFormat</a>."</span></p>
</li>
</ul>
</div>
</li>
<li class="stepexpand"><span>Connect to Oracle Database as the owner of the target table. Query the table to ensure that the data loaded correctly. If it did not, then modify the input or output format properties as needed to correct the problem.</span></li>
<li class="stepexpand"><span>Before running the OraLoader job in a production environment, employ these optimizations:</span>
<div>
<ul style="list-style-type: disc;">
<li>
<p><a href="olh.htm#GUID-75DCE50C-2476-4FDC-8DF5-FAE9F0CF78EA">Balancing Loads When Loading Data into Partitioned Tables</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-39037FAE-724C-4661-9FA0-59E5D7C18FF7">Optimizing Communications Between Oracle Engineered Systems</a></p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<a id="BDCUG175"></a>
<div class="props_rev_3"><a id="GUID-94F2DD27-FED2-469F-8968-D94FB6AE962C"></a>
<h2 id="BDCUG-GUID-94F2DD27-FED2-469F-8968-D94FB6AE962C" class="sect2"><span class="enumeration_section">3.4</span> Creating the Target Table</h2>
<div>
<p>Oracle Loader for Hadoop loads data into one <span class="bold">target table</span>, which must exist in the Oracle database. The table can be empty or contain data already. Oracle Loader for Hadoop does not overwrite existing data.</p>
<p>Create the table the same way that you would create one for any other purpose. It must comply with the following restrictions:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="olh.htm#GUID-1DF7832A-ED71-4818-B5A2-66EC462E362B">Supported Data Types for Target Tables</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-41FE5210-EABE-45FB-87BA-3D4DEBA31007">Supported Partitioning Strategies for Target Tables</a></p>
</li>
</ul>
</div>
<a id="BDCUG176"></a>
<div class="props_rev_3"><a id="GUID-1DF7832A-ED71-4818-B5A2-66EC462E362B"></a>
<h3 id="BDCUG-GUID-1DF7832A-ED71-4818-B5A2-66EC462E362B" class="sect3"><span class="enumeration_section">3.4.1</span> Supported Data Types for Target Tables</h3>
<div>
<div class="section">
<p>You can define the target table using any of these <a id="d19675e430" class="indexterm-anchor"></a>data types:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">BINARY_DOUBLE</code></p>
</li>
<li>
<p><code class="codeph">BINARY_FLOAT</code></p>
</li>
<li>
<p><code class="codeph">CHAR</code></p>
</li>
<li>
<p><code class="codeph">DATE</code></p>
</li>
<li>
<p><code class="codeph">FLOAT</code></p>
</li>
<li>
<p><code class="codeph">INTERVAL DAY TO SECOND</code></p>
</li>
<li>
<p><code class="codeph">INTERVAL YEAR TO MONTH</code></p>
</li>
<li>
<p><code class="codeph">NCHAR</code></p>
</li>
<li>
<p><code class="codeph">NUMBER</code></p>
</li>
<li>
<p><code class="codeph">NVARCHAR2</code></p>
</li>
<li>
<p><code class="codeph">RAW</code></p>
</li>
<li>
<p><code class="codeph">TIMESTAMP</code></p>
</li>
<li>
<p><code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code></p>
</li>
<li>
<p><code class="codeph">TIMESTAMP WITH TIME ZONE</code></p>
</li>
<li>
<p><code class="codeph">VARCHAR2</code></p>
</li>
</ul>
<p>The target table can contain columns with unsupported data types, but these columns must be nullable, or otherwise set to a value.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG177"></a>
<div class="props_rev_3"><a id="GUID-41FE5210-EABE-45FB-87BA-3D4DEBA31007"></a>
<h3 id="BDCUG-GUID-41FE5210-EABE-45FB-87BA-3D4DEBA31007" class="sect3"><span class="enumeration_section">3.4.2</span> Supported Partitioning Strategies for Target Tables</h3>
<div>
<div class="section">
<p>Partitioning is a database feature for managing and efficiently querying very large tables. It provides a way to decompose a large table into smaller and more manageable pieces called partitions, in a manner entirely transparent to applications.</p>
<p>You can define the target table using any of the following single-level and composite-level <a id="d19675e522" class="indexterm-anchor"></a>partitioning strategies.</p>
<ul style="list-style-type: disc;">
<li>
<p>Hash</p>
</li>
<li>
<p>Hash-Hash</p>
</li>
<li>
<p>Hash-List</p>
</li>
<li>
<p>Hash-Range</p>
</li>
<li>
<p>Interval</p>
</li>
<li>
<p>Interval-Hash</p>
</li>
<li>
<p>Interval-List</p>
</li>
<li>
<p>Interval-Range</p>
</li>
<li>
<p>List</p>
</li>
<li>
<p>List-Hash</p>
</li>
<li>
<p>List-List</p>
</li>
<li>
<p>List-Range</p>
</li>
<li>
<p>Range</p>
</li>
<li>
<p>Range-Hash</p>
</li>
<li>
<p>Range-List</p>
</li>
<li>
<p>Range-Range</p>
</li>
</ul>
<p>Oracle Loader for Hadoop does not support reference partitioning or virtual column-based partitioning.</p>
<div class="infoboxnotealso" id="GUID-41FE5210-EABE-45FB-87BA-3D4DEBA31007__GUID-3807AC2A-2E86-490C-9BC3-9A6433F224BA">
<p class="notep1">See Also:</p>
<p><a class="olink VLDBG-GUID-54D18B18-6838-4115-9389-E1FB0D20A8CA" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E87334-01&amp;id=VLDBG-GUID-54D18B18-6838-4115-9389-E1FB0D20A8CA"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG1000"></a>
<div class="props_rev_3"><a id="GUID-D9B902D6-E059-45C6-8FE8-F7297DE3F95D"></a>
<h3 id="BDCUG-GUID-D9B902D6-E059-45C6-8FE8-F7297DE3F95D" class="sect3"><span class="enumeration_section">3.4.3</span> Compression</h3>
<div>
<p>Oracle Loader for Hadoop does not compress data. Compressing data during load is defined by the table and database properties. To load data into a compressed table define the table and database properties accordingly.</p>
</div>
</div>
</div>
<a id="BDCUG461"></a><a id="BDCUG460"></a>
<div class="props_rev_3"><a id="GUID-9D47AE4C-0D31-44E0-AC6A-07BBDD94EE05"></a>
<h2 id="BDCUG-GUID-9D47AE4C-0D31-44E0-AC6A-07BBDD94EE05" class="sect2"><span class="enumeration_section">3.5</span> Creating a Job Configuration File</h2>
<div>
<div class="section">
<p>A configuration file is an XML document that provides Hadoop with all the information it needs to run a MapReduce job. This file can also provide Oracle Loader for Hadoop with all the information it needs. See <span class="q">"<a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52">Oracle Loader for Hadoop Configuration Property Reference</a>"</span>.</p>
<p>Configuration properties provide the following information, which is required for all Oracle Loader for Hadoop jobs:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>How to obtain the target table metadata.</p>
<p>See <span class="q">"<a href="olh.htm#GUID-526F38E4-3C77-4611-9B55-1AF080AA861D">About the Target Table Metadata</a>."</span></p>
</li>
<li>
<p>The format of the input data.</p>
<p>See <span class="q">"<a href="olh.htm#GUID-D697AE02-273B-4966-9570-1AB8604D9E76">About Input Formats</a>."</span></p>
</li>
<li>
<p>The format of the output data.</p>
<p>See <span class="q">"<a href="olh.htm#GUID-3D329A46-E0D5-4813-AE23-8D0C3F247B82">About Output Formats</a>."</span></p>
</li>
</ul>
<p><code class="codeph">OraLoader</code> implements the <code class="codeph">org.apache.hadoop.util.Tool</code> interface and follows the standard Hadoop methods for building MapReduce applications. Thus, you can supply the configuration properties in a file (as shown here) or on the <code class="codeph">hadoop</code> command line. See <span class="q">"<a href="olh.htm#GUID-EF6FA81A-556F-4454-B039-DAA8BB9F317A">Running a Loader Job</a>."</span></p>
<p>You can use any text or XML editor to create the file. The following example provides an example of a job configuration file.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-9D47AE4C-0D31-44E0-AC6A-07BBDD94EE05__BABDAEGJ">
<p class="titleinexample">Example 3-1 Job Configuration File</p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8" ?&gt;
&lt;configuration&gt;
 
&lt;!--                          Input settings                             --&gt;
 &lt;property&gt;
   &lt;name&gt;mapreduce.job.inputformat.class&lt;/name&gt;
   &lt;value&gt;oracle.hadoop.loader.lib.input.DelimitedTextInputFormat&lt;/value&gt;
 &lt;/property&gt;
 
 &lt;property&gt;
   &lt;name&gt;mapreduce.input.fileinputformat.inputdir&lt;/name&gt;
   &lt;value&gt;/user/oracle/moviedemo/session/*00000&lt;/value&gt;
 &lt;/property&gt;
 
 &lt;property&gt;
   &lt;name&gt;oracle.hadoop.loader.input.fieldTerminator&lt;/name&gt;
   &lt;value&gt;\u0009&lt;/value&gt;
 &lt;/property&gt;
 
 &lt;property&gt;
   &lt;name&gt;oracle.hadoop.loader.input.fieldNames&lt;/name&gt;
   &lt;value&gt;SESSION_ID,TIME_IDDATE,CUST_ID,DURATION_SESSION,NUM_RATED,DURATION_RATED,NUM_COMPLETED,DURATION_COMPLETED,TIME_TO_FIRST_START,NUM_STARTED,NUM_BROWSED,DURATION_BROWSED,NUM_LISTED,DURATION_LISTED,NUM_INCOMPLETE,NUM_SEARCHED&lt;/value&gt;
 &lt;/property&gt;
 
 &lt;property&gt;
   &lt;name&gt;oracle.hadoop.loader.defaultDateFormat&lt;/name&gt;
   &lt;value&gt;yyyy-MM-dd:HH:mm:ss&lt;/value&gt;
 &lt;/property&gt;
 

&lt;!--                          Output settings                             --&gt;
 &lt;property&gt;
   &lt;name&gt;mapreduce.job.outputformat.class&lt;/name&gt;
   &lt;value&gt;oracle.hadoop.loader.lib.output.OCIOutputFormat&lt;/value&gt;
 &lt;/property&gt;
 
 &lt;property&gt;
   &lt;name&gt;mapreduce.output.fileoutputformat.outputdir&lt;/name&gt;
   &lt;value&gt;temp_out_session&lt;/value&gt;
 &lt;/property&gt;
 
&lt;!--                          Table information                           --&gt;
 &lt;property&gt;
   &lt;name&gt;oracle.hadoop.loader.loaderMap.targetTable&lt;/name&gt;
   &lt;value&gt;movie_sessions_tab&lt;/value&gt;
 &lt;/property&gt;   

 
&lt;!--                          Connection information                      --&gt;
 
&lt;property&gt;
  &lt;name&gt;oracle.hadoop.loader.connection.url&lt;/name&gt;
  &lt;value&gt;jdbc:oracle:thin:@${HOST}:${TCPPORT}/${SERVICE_NAME}&lt;/value&gt;
&lt;/property&gt;
 
&lt;property&gt;
  &lt;name&gt;TCPPORT&lt;/name&gt;
  &lt;value&gt;1521&lt;/value&gt;
&lt;/property&gt;
 
&lt;property&gt;
  &lt;name&gt;HOST&lt;/name&gt;
  &lt;value&gt;myoraclehost.example.com&lt;/value&gt;
&lt;/property&gt;
 
&lt;property&gt;
 &lt;name&gt;SERVICE_NAME&lt;/name&gt;
 &lt;value&gt;orcl&lt;/value&gt;
&lt;/property&gt;
 
&lt;property&gt;
  &lt;name&gt;oracle.hadoop.loader.connection.user&lt;/name&gt;
  &lt;value&gt;MOVIEDEMO&lt;/value&gt;
&lt;/property&gt;
 
&lt;property&gt;
  &lt;name&gt;oracle.hadoop.loader.connection.password&lt;/name&gt;
  &lt;value&gt;oracle&lt;/value&gt;        
  &lt;description&gt; A password in clear text is NOT RECOMMENDED. Use an Oracle wallet instead.&lt;/description&gt;
&lt;/property&gt;
 
&lt;/configuration&gt;
</pre></div>
<!-- class="example" --></div>
</div>
<a id="BDCUG462"></a>
<div class="props_rev_3"><a id="GUID-526F38E4-3C77-4611-9B55-1AF080AA861D"></a>
<h2 id="BDCUG-GUID-526F38E4-3C77-4611-9B55-1AF080AA861D" class="sect2"><span class="enumeration_section">3.6</span> About the Target Table Metadata</h2>
<div>
<p>You must provide Oracle Loader for Hadoop with information about the target table. The way that you provide this information depends on whether you run Oracle Loader for Hadoop in online or offline database mode. See <span class="q">"<a href="olh.htm#GUID-3D76103E-6620-42F9-924B-36DEAA1BF483">About the Modes of Operation</a>."</span></p>
</div>
<a id="BDCUG463"></a>
<div class="props_rev_3"><a id="GUID-03BFB4D6-1CD2-4EC6-84B0-5970E74A8740"></a>
<h3 id="BDCUG-GUID-03BFB4D6-1CD2-4EC6-84B0-5970E74A8740" class="sect3"><span class="enumeration_section">3.6.1</span> Providing the Connection Details for Online Database Mode</h3>
<div>
<p>Oracle Loader for Hadoop uses table metadata from the Oracle database to identify the column names, data types, partitions, and so forth. The loader automatically fetches the metadata whenever a JDBC connection can be established.</p>
<p>Oracle recommends that you use a wallet to provide your credentials. To use an Oracle wallet, enter the following properties in the job configuration file:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFAFGG">oracle.hadoop.loader.connection.wallet_location</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJIJJE">oracle.hadoop.loader.connection.tns_admin</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJCAAI">oracle.hadoop.loader.connection.url</a></code> <span class="italic"><span class="bold">or</span></span> <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBFJCB">oracle.hadoop.loader.connection.tnsEntryName</a></code></p>
</li>
</ul>
<p>Oracle recommends that you do not store passwords in clear text; use an Oracle wallet instead to safeguard your credentials. However, if you are not using an Oracle wallet, then enter these properties:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJCAAI">oracle.hadoop.loader.connection.url</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFIIAA">oracle.hadoop.loader.connection.user</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHFCAG">oracle.hadoop.loader.connection.password</a></code></p>
</li>
</ul>
</div>
</div>
<a id="BDCUG150"></a>
<div class="props_rev_3"><a id="GUID-3770DD78-09B3-47FC-A3D9-33F56D4AB9FB"></a>
<h3 id="BDCUG-GUID-3770DD78-09B3-47FC-A3D9-33F56D4AB9FB" class="sect3"><span class="enumeration_section">3.6.2</span> Generating the Target Table Metadata for Offline Database Mode</h3>
<div>
<div class="section">
<p>Under some circumstances, the loader job cannot access the database, such as when the Hadoop cluster is on a different network than Oracle Database. In such cases, you can use the OraLoaderMetadata utility to extract and store the target table metadata in a file.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">To provide target table metadata in offline database mode:</p>
<ol>
<li>
<p>Log in to the Oracle Database system.</p>
</li>
<li>
<p>The first time you use offline database mode, ensure that the software is installed and configured on the database system.</p>
<p>See <span class="q">"<a href="start.htm#GUID-DE70C4E0-438A-48FA-B151-93751F2A4D32">Providing Support for Offline Database Mode</a>."</span></p>
</li>
<li>
<p>Export the table metadata by running the <a id="d19675e819" class="indexterm-anchor"></a><code class="codeph">OraLoaderMetadata</code> utility program. See <span class="q">"<a href="olh.htm#GUID-88957DE7-446F-40DF-88D5-8D51C0059D91">OraLoaderMetadata Utility</a>."</span></p>
</li>
<li>
<p>Copy the generated XML file containing the table metadata to the Hadoop cluster.</p>
</li>
<li>
<p>Use the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFGBIF">oracle.hadoop.loader.tableMetadataFile</a></code> property in the job configuration file to specify the location of the XML metadata file on the Hadoop cluster.</p>
<p>When the loader job runs, it accesses this XML document to discover the target table metadata.</p>
</li>
</ol>
</div>
<!-- class="section" --></div>
<a id="BDCUG464"></a><a id="BDCUG151"></a>
<div class="props_rev_3"><a id="GUID-88957DE7-446F-40DF-88D5-8D51C0059D91"></a>
<h4 id="BDCUG-GUID-88957DE7-446F-40DF-88D5-8D51C0059D91" class="sect4"><span class="enumeration_section">3.6.2.1</span> OraLoaderMetadata Utility</h4>
<div>
<div class="section">
<p>Use the following syntax to run the <code class="codeph">OraLoaderMetadata</code> utility on the Oracle Database system. You must enter the <code class="codeph">java</code> command on a single line, although it is shown here on multiple lines for clarity:</p>
<pre dir="ltr">
java oracle.hadoop.loader.metadata.OraLoaderMetadata
   -user <span class="italic">userName</span> 
   -connection_url <span class="italic">connection</span>
   [-schema <span class="italic">schemaName</span>]
   -table <span class="italic">tableName</span>
   -output <span class="italic">fileName</span>.xml
</pre>
<p>To see the OraLoaderMetadata Help file, use the command with no options.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead3">Options</p>
<dl>
<dt class="dlterm"><a id="GUID-88957DE7-446F-40DF-88D5-8D51C0059D91__GUID-D330D3D8-E0E0-4E92-8626-21AB8F533DEA"><!-- --></a>-user <span class="italic">userName</span></dt>
<dd>
<p>The Oracle Database user who owns the target table. The utility prompts you for the password.</p>
</dd>
<dt class="dlterm"><a id="GUID-88957DE7-446F-40DF-88D5-8D51C0059D91__GUID-7599EA21-DE72-4AB4-9718-48DEE2817A7C"><!-- --></a>-connection_url <span class="italic">connection</span></dt>
<dd>
<p>The database connection string in the thin-style service name format:</p>
<pre dir="ltr">
jdbc:oracle:thin:@//<span class="italic">hostName</span>:<span class="italic">port</span>/<span class="italic">serviceName</span>
</pre>
<p>If you are unsure of the service name, then enter this SQL command as a privileged user:</p>
<p><code class="codeph"><span class="bold">show parameter service</span></code></p>
<div class="p">
<pre dir="ltr">
NAME               TYPE        VALUE
------------------ ----------- ----------
service_names      string      orcl
</pre></div>
</dd>
<dt class="dlterm"><a id="GUID-88957DE7-446F-40DF-88D5-8D51C0059D91__GUID-F3A2FAA5-2150-46B1-BD31-5395E3BABFA6"><!-- --></a>-schema <span class="italic">schemaName</span></dt>
<dd>
<p>The name of the schema containing the target table. Unquoted values are capitalized, and unquoted values are used exactly as entered. If you omit this option, then the utility looks for the target table in the schema specified in the <code class="codeph">-user</code> option.</p>
</dd>
<dt class="dlterm"><a id="GUID-88957DE7-446F-40DF-88D5-8D51C0059D91__GUID-B77AE3BF-12DA-445A-A906-AD1675489BB0"><!-- --></a>-table <span class="italic">tableName</span></dt>
<dd>
<p>The name of the target table. Unquoted values are capitalized, and unquoted values are used exactly as entered.</p>
</dd>
<dt class="dlterm"><a id="GUID-88957DE7-446F-40DF-88D5-8D51C0059D91__GUID-06DF311A-5B10-4F89-B93B-58A747A52B7A"><!-- --></a>-output <span class="italic">fileName</span>.xml</dt>
<dd>
<p>The output file name used to store the metadata document.</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example shows how to store the target table metadata in an XML file.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-88957DE7-446F-40DF-88D5-8D51C0059D91__BABGJBCH">
<p class="titleinexample">Example 3-2 Generating Table Metadata</p>
<p>Run the OraLoaderMetadata utility:</p>
<pre dir="ltr">
$ <span class="bold">java -cp '/tmp/oraloader-&lt;version&gt;-h2/jlib/*' oracle.hadoop.loader.metadata.OraLoaderMetadata -user HR -connection_url jdbc:oracle:thin://@localhost:1521/orcl.example.com -table EMPLOYEES -output employee_metadata.xml</span>
</pre>
<p>The OraLoaderMetadata utility prompts for the database password.</p>
<pre dir="ltr">
Oracle Loader for Hadoop Release &lt;version&gt; - Production
 
Copyright (c) 2011, 2015, Oracle and/or its affiliates. All rights reserved.
 
[Enter Database Password:] <span class="italic">password</span>
</pre>
<p>OraLoaderMetadata creates the XML file in the same directory as the script.</p>
<pre dir="ltr">
$ <span class="bold">more employee_metadata.xml</span>
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;!--
Oracle Loader for Hadoop Release &lt;version&gt; - Production
 
Copyright (c) 2011, 2016, Oracle and/or its affiliates. All rights reserved.
 
--&gt;
&lt;DATABASE&gt;
&lt;ROWSET&gt;&lt;ROW&gt;
&lt;TABLE_T&gt;
 &lt;VERS_MAJOR&gt;2&lt;/VERS_MAJOR&gt;
 &lt;VERS_MINOR&gt;5 &lt;/VERS_MINOR&gt;
 &lt;OBJ_NUM&gt;78610&lt;/OBJ_NUM&gt;
 &lt;SCHEMA_OBJ&gt;
  &lt;OBJ_NUM&gt;78610&lt;/OBJ_NUM&gt;
  &lt;DATAOBJ_NUM&gt;78610&lt;/DATAOBJ_NUM&gt;
  &lt;OWNER_NUM&gt;87&lt;/OWNER_NUM&gt;
  &lt;OWNER_NAME&gt;HR&lt;/OWNER_NAME&gt;
  &lt;NAME&gt;EMPLOYEES&lt;/NAME&gt;
     .
     .
     .
</pre></div>
<!-- class="example" --></div>
</div>
</div>
</div>
<a id="BDCUG142"></a>
<div class="props_rev_3"><a id="GUID-D697AE02-273B-4966-9570-1AB8604D9E76"></a>
<h2 id="BDCUG-GUID-D697AE02-273B-4966-9570-1AB8604D9E76" class="sect2"><span class="enumeration_section">3.7</span> About Input Formats</h2>
<div>
<p>An input format reads a specific type of data stored in Hadoop. Several input formats are available, which can read the data formats most commonly found in Hadoop:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="olh.htm#GUID-B4F984B7-98BA-4612-A720-41C9BFCAF676">Delimited Text Input Format</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-780BF4F2-FAA0-4692-8233-83FF0319A248">Complex Text Input Formats</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-D427BB50-481B-4ECB-A279-CA73A92CEFC5">Hive Table Input Format</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-0B070B2F-188E-4F16-BEDA-DFD9335DEFDC">Avro Input Format</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-9C29C448-1CF7-4ECE-96E1-F60F32B501E9">Oracle NoSQL Database Input Format</a></p>
</li>
</ul>
<p>You can also use your own custom input formats. The descriptions of the built-in formats provide information that may help you develop custom Java <code class="codeph">InputFormat</code> classes. See <span class="q">"<a href="olh.htm#GUID-2D25213B-5D3F-4B4D-9266-685A9C3D8E45">Custom Input Formats</a>."</span></p>
<p>You specify a particular input format for the data that you want to load into a database table, by using the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">mapreduce.job.inputformat.class</a></code> configuration property in the job configuration file.</p>
<div class="infobox-note" id="GUID-D697AE02-273B-4966-9570-1AB8604D9E76__GUID-9FF5EA78-1349-4993-BD01-C5F63BC80EAB">
<p class="notep1">Note:</p>
<p>The built-in text formats do not handle header rows or newline characters (<code class="codeph">\n</code>) embedded in quoted values.</p>
</div>
</div>
<a id="BDCUG146"></a>
<div class="props_rev_3"><a id="GUID-B4F984B7-98BA-4612-A720-41C9BFCAF676"></a>
<h3 id="BDCUG-GUID-B4F984B7-98BA-4612-A720-41C9BFCAF676" class="sect3"><span class="enumeration_section">3.7.1</span> Delimited Text Input Format</h3>
<div>
<p>To load data from a delimited text file, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">mapreduce.job.inputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.input.DelimitedTextInputFormat</code></p>
</div>
<a id="BDCUG465"></a>
<div class="props_rev_3"><a id="GUID-B0F7CCC2-2CE6-4F98-9A41-73935D53187A"></a>
<h4 id="BDCUG-GUID-B0F7CCC2-2CE6-4F98-9A41-73935D53187A" class="sect4"><span class="enumeration_section">3.7.1.1</span> About DelimitedTextInputFormat</h4>
<div>
<p>The input file must comply with these requirements:</p>
<ul style="list-style-type: disc;">
<li>
<p>Records must be separated by newline characters.</p>
</li>
<li>
<p>Fields must be delimited using single-character markers, such as commas or tabs.</p>
</li>
</ul>
<p>A null replaces any empty-string token, whether enclosed or unenclosed.</p>
<p><code class="codeph">DelimitedTextInputFormat</code> emulates the tokenization method of SQL*Loader: Terminated by <span class="bold">t</span>, and optionally enclosed by <span class="bold">ie</span>, or by <span class="bold">ie</span> and <span class="bold">te</span>. <code class="codeph">DelimitedTextInputFormat</code> uses the following syntax rules, where <span class="bold">t</span> is the field terminator, <span class="bold">ie</span> is the initial field encloser, <span class="bold">te</span> is the trailing field encloser, and <span class="bold">c</span> is one character.</p>
<ul style="list-style-type: disc;">
<li>
<p>Line = Token <span class="bold">t</span> Line | Token<span class="bold">\n</span></p>
</li>
<li>
<p>Token = EnclosedToken | UnenclosedToken</p>
</li>
<li>
<p>EnclosedToken = (white-space)* <span class="bold">ie</span> [(non-<span class="bold">te</span>)* <span class="bold">te</span> <span class="bold">te</span>]* (non-<span class="bold">te</span>)* <span class="bold">te</span> (white-space)*</p>
</li>
<li>
<p>UnenclosedToken = (white-space)* (non-<span class="bold">t</span>)*</p>
</li>
<li>
<p>white-space = {<span class="bold">c</span> | Character.isWhitespace(<span class="bold">c</span>) and <span class="bold">c</span>!=<span class="bold">t</span>}</p>
</li>
</ul>
<p>White space around enclosed tokens (data values) is discarded. For unenclosed tokens, the leading white space is discarded, but not the trailing white space (if any).</p>
<p>This implementation enables you to define custom enclosers and terminator characters, but it hard codes the record terminator as a newline, and white space as Java <code class="codeph">Character.isWhitespace</code>. A white space can be defined as the field terminator, but then that character is removed from the class of white space characters to prevent ambiguity.</p>
<p>Hadoop automatically decompresses compressed text files when they are read.</p>
</div>
</div>
<a id="BDCUG466"></a>
<div class="props_rev_3"><a id="GUID-70A17953-CA56-4088-B9E3-A33F1C8C05F1"></a>
<h4 id="BDCUG-GUID-70A17953-CA56-4088-B9E3-A33F1C8C05F1" class="sect4"><span class="enumeration_section">3.7.1.2</span> Required Configuration Properties</h4>
<div>
<div class="section">
<p>None. The default format separates fields with commas and has no field enclosures.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG467"></a>
<div class="props_rev_3"><a id="GUID-6A318A71-FFE9-4BD6-BFE3-C662969EB072"></a>
<h4 id="BDCUG-GUID-6A318A71-FFE9-4BD6-BFE3-C662969EB072" class="sect4"><span class="enumeration_section">3.7.1.3</span> Optional Configuration Properties</h4>
<div>
<div class="section">
<p>Use one or more of the following properties to define the field delimiters for <a id="d19675e1247" class="indexterm-anchor"></a><a id="d19675e1251" class="indexterm-anchor"></a><code class="codeph">DelimitedTextInputFormat</code>:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABGHBEJ">oracle.hadoop.loader.input.fieldTerminator</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFCCAE">oracle.hadoop.loader.input.initialFieldEncloser</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCCEIB">oracle.hadoop.loader.input.trailingFieldEncloser</a></code></p>
</li>
</ul>
<p>Use the following property to provide names for the input fields:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJGDEA">oracle.hadoop.loader.input.fieldNames</a></code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG386"></a>
<div class="props_rev_3"><a id="GUID-780BF4F2-FAA0-4692-8233-83FF0319A248"></a>
<h3 id="BDCUG-GUID-780BF4F2-FAA0-4692-8233-83FF0319A248" class="sect3"><span class="enumeration_section">3.7.2</span> Complex Text Input Formats</h3>
<div>
<p>To load data from text files that are more complex than <code class="codeph">DelimitedTextInputFormat</code> can handle, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">mapreduce.job.inputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.input.RegexInputFormat</code></p>
<p>For example, a web log might delimit one field with quotes and another field with square brackets.</p>
</div>
<a id="BDCUG468"></a>
<div class="props_rev_3"><a id="GUID-E5AE4808-5209-4118-9230-F437ED68FD68"></a>
<h4 id="BDCUG-GUID-E5AE4808-5209-4118-9230-F437ED68FD68" class="sect4"><span class="enumeration_section">3.7.2.1</span> About RegexInputFormat</h4>
<div>
<p><code class="codeph">RegexInputFormat</code> requires that records be separated by newline characters. It identifies fields in each text line by matching a regular expression:</p>
<ul style="list-style-type: disc;">
<li>
<p>The regular expression must match the entire text line.</p>
</li>
<li>
<p>The fields are identified using the capturing groups in the regular expression.</p>
</li>
</ul>
<p><code class="codeph">RegexInputFormat</code> uses the <code class="codeph">java.util.regex</code> regular expression-based pattern matching engine. Hadoop automatically decompresses compressed files when they are read.</p>
<div class="infoboxnotealso" id="GUID-E5AE4808-5209-4118-9230-F437ED68FD68__GUID-9A28679B-9988-4898-94D7-3AF9E9840723">
<p class="notep1">See Also:</p>
<p><span class="italic">Java Platform Standard Edition 6 Java Reference</span> for more information about <code class="codeph">java.util.regex</code> at</p>
<p><a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/package-summary.html" target="_blank"><code class="codeph">http://docs.oracle.com/javase/6/docs/api/java/util/regex/package-summary.html</code></a></p>
</div>
</div>
</div>
<a id="BDCUG469"></a>
<div class="props_rev_3"><a id="GUID-4913A30A-5E6A-4DCF-B2C0-A6959AC8CEA0"></a>
<h4 id="BDCUG-GUID-4913A30A-5E6A-4DCF-B2C0-A6959AC8CEA0" class="sect4"><span class="enumeration_section">3.7.2.2</span> Required Configuration Properties</h4>
<div>
<div class="section">
<p>Use the following property to describe the data input file:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBBIFB">oracle.hadoop.loader.input.regexPattern</a></code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG470"></a>
<div class="props_rev_3"><a id="GUID-F08D64B5-E007-4ADB-AD1C-707813D88888"></a>
<h4 id="BDCUG-GUID-F08D64B5-E007-4ADB-AD1C-707813D88888" class="sect4"><span class="enumeration_section">3.7.2.3</span> Optional Configuration Properties</h4>
<div>
<div class="section">
<p>Use the following property to identify the names of all input fields:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJGDEA">oracle.hadoop.loader.input.fieldNames</a></code></p>
</li>
</ul>
<p>Use this property to enable case-insensitive matches:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJFIAC">oracle.hadoop.loader.input.regexCaseInsensitive</a></code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG145"></a>
<div class="props_rev_3"><a id="GUID-D427BB50-481B-4ECB-A279-CA73A92CEFC5"></a>
<h3 id="BDCUG-GUID-D427BB50-481B-4ECB-A279-CA73A92CEFC5" class="sect3"><span class="enumeration_section">3.7.3</span> Hive Table Input Format</h3>
<div>
<p>To <a id="d19675e1455" class="indexterm-anchor"></a>load data from a Hive table, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">mapreduce.job.inputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.input.HiveToAvroInputFormat</code></p>
</div>
<a id="BDCUG471"></a>
<div class="props_rev_3"><a id="GUID-37A34CB4-D914-4734-8492-F930555BDD8E"></a>
<h4 id="BDCUG-GUID-37A34CB4-D914-4734-8492-F930555BDD8E" class="sect4"><span class="enumeration_section">3.7.3.1</span> About HiveToAvroInputFormat</h4>
<div>
<p>For nonpartitioned tables, <code class="codeph">HiveToAvroInputFormat</code> imports the entire table, which is all files in the Hive table directory.</p>
<p>For partitioned tables, <code class="codeph">HiveToAvroInputFormat</code> imports one or more of the partitions. You can either load or skip a partition. However, you cannot partially load a partition.</p>
<p>Oracle Loader for Hadoop rejects all rows with complex (non-primitive) column values. <code class="codeph">UNIONTYPE</code> fields that resolve to primitive values are supported. See <span class="q">"<a href="olh.htm#GUID-E435097B-41B3-4DD7-B0CA-4B94D6BF6729">Handling Rejected Records</a>."</span></p>
<p><code class="codeph">HiveToAvroInputFormat</code> transforms rows in the Hive table into Avro records, and capitalizes the Hive table column names to form the field names. This automatic capitalization improves the likelihood that the field names match the target table column names. See <span class="q">"<a href="olh.htm#GUID-3C845932-1F8C-4ECC-AD87-B71E8344D5BF">Mapping Input Fields to Target Table Columns</a>"</span>.</p>
<div class="infobox-note" id="GUID-37A34CB4-D914-4734-8492-F930555BDD8E__GUID-B41A60A5-0D07-4AC4-BEEA-F7D5E3427216">
<p class="notep1">Note:</p>
<p>This input format does not support Hive tables using quoted identifiers for column names. See <a href="https://issues.apache.org/jira/browse/HIVE-6013" target="_blank">HIVE-6013</a></p>
<p>Also note that <code class="codeph">HiveToAvroInputFormat</code> does not enforce the <span class="italic">SQL Standard Based Hive Authorization</span>. For more information, see <a href="https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization" target="_blank"><code class="codeph">https://cwiki.apache.org/confluence/display/Hive/SQL+Standard+Based+Hive+Authorization</code></a>.</p>
</div>
</div>
</div>
<a id="BDCUG472"></a>
<div class="props_rev_3"><a id="GUID-AF1E67C3-AE07-4FD1-9AE2-8D0931E56B6C"></a>
<h4 id="BDCUG-GUID-AF1E67C3-AE07-4FD1-9AE2-8D0931E56B6C" class="sect4"><span class="enumeration_section">3.7.3.2</span> Required Configuration Properties</h4>
<div>
<div class="section">
<p>You must specify the Hive database and table names using the following configuration properties:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIDDJI">oracle.hadoop.loader.input.hive.databaseName</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDCDDF">oracle.hadoop.loader.input.hive.tableName</a></code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG473"></a>
<div class="props_rev_3"><a id="GUID-2A6D1D6A-E621-4ADD-9702-1E040A242880"></a>
<h4 id="BDCUG-GUID-2A6D1D6A-E621-4ADD-9702-1E040A242880" class="sect4"><span class="enumeration_section">3.7.3.3</span> Optional Configuration Properties</h4>
<div>
<div class="section">
<p>To specify a subset of rows in the input Hive table to load, use the following property:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__CBHJFFAI">oracle.hadoop.loader.input.hive.rowFilter</a></code></p>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG388"></a>
<div class="props_rev_3"><a id="GUID-0B070B2F-188E-4F16-BEDA-DFD9335DEFDC"></a>
<h3 id="BDCUG-GUID-0B070B2F-188E-4F16-BEDA-DFD9335DEFDC" class="sect3"><span class="enumeration_section">3.7.4</span> Avro Input Format</h3>
<div>
<div class="section">
<p>To load data from binary Avro data files containing standard Avro-format records, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">mapreduce.job.inputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.input.AvroInputFormat</code></p>
<p>To process only files with the .avro extension, append <code class="codeph">*.avro</code> to directories listed in the <code class="codeph">mapreduce.input.fileinputformat.inputdir</code> configuration property.</p>
</div>
<!-- class="section" --></div>
<a id="BDCUG474"></a>
<div class="props_rev_3"><a id="GUID-EA33544B-C6A0-46FC-9656-FE4D83A167BF"></a>
<h4 id="BDCUG-GUID-EA33544B-C6A0-46FC-9656-FE4D83A167BF" class="sect4"><span class="enumeration_section">3.7.4.1</span> Configuration Properties</h4>
<div>
<div class="section">
<p>None</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG329"></a>
<div class="props_rev_3"><a id="GUID-9C29C448-1CF7-4ECE-96E1-F60F32B501E9"></a>
<h3 id="BDCUG-GUID-9C29C448-1CF7-4ECE-96E1-F60F32B501E9" class="sect3"><span class="enumeration_section">3.7.5</span> Oracle NoSQL Database Input Format</h3>
<div>
<p>To load data from Oracle NoSQL Database, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">mapreduce.job.inputformat.class</a></code> to</p>
<p><code class="codeph">oracle.kv.hadoop.KVAvroInputFormat</code></p>
<p>This input format is defined in Oracle NoSQL Database 11<span class="italic">g</span>, Release 2 and later releases.</p>
</div>
<a id="BDCUG475"></a>
<div class="props_rev_3"><a id="GUID-41CEF022-4C1E-4B82-B274-B672C36E9542"></a>
<h4 id="BDCUG-GUID-41CEF022-4C1E-4B82-B274-B672C36E9542" class="sect4"><span class="enumeration_section">3.7.5.1</span> About KVAvroInputFormat</h4>
<div>
<p>Oracle Loader for Hadoop uses <code class="codeph">KVAvroInputFormat</code> to read data directly from Oracle NoSQL Database.</p>
<p><code class="codeph">KVAvroInputFormat</code> passes the value but not the key from the key-value pairs in Oracle NoSQL Database. If you must access the Oracle NoSQL Database keys as Avro data values, such as storing them in the target table, then you must create a Java <code class="codeph">InputFormat</code> class that implements <code class="codeph">oracle.kv.hadoop.AvroFormatter</code>. Then you can specify the <code class="codeph">oracle.kv.formatterClass</code> property in the Oracle Loader for Hadoop configuration file.</p>
<p>The <code class="codeph">KVAvroInputFormat</code> class is a subclass of <code class="codeph">org.apache.hadoop.mapreduce.InputFormat&lt;oracle.kv.Key, org.apache.avro.generic.IndexedRecord&gt;</code></p>
<div class="infoboxnotealso" id="GUID-41CEF022-4C1E-4B82-B274-B672C36E9542__GUID-7003ABCE-CD0D-4A9B-8A02-19DBC1B9880A">
<p class="notep1">See Also:</p>
<p>Javadoc for the <code class="codeph">KVInputFormatBase</code> class at</p>
<p><a href="http://docs.oracle.com/cd/NOSQL/html/javadoc/index.html" target="_blank"><code class="codeph">http://docs.oracle.com/cd/NOSQL/html/javadoc/index.html</code></a></p>
</div>
</div>
</div>
<a id="BDCUG476"></a>
<div class="props_rev_3"><a id="GUID-255F2C80-81A7-48F5-A868-238E0CB28E5F"></a>
<h4 id="BDCUG-GUID-255F2C80-81A7-48F5-A868-238E0CB28E5F" class="sect4"><span class="enumeration_section">3.7.5.2</span> Required Configuration Properties</h4>
<div>
<div class="section">
<p>You must specify the name and location of the key-value store using the following configuration properties:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBEEII">oracle.kv.hosts</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHEHGB">oracle.kv.kvstore</a></code></p>
</li>
</ul>
<p>See <span class="q">"<a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCIHEG">Oracle NoSQL Database Configuration Properties</a>."</span></p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG477"></a>
<div class="props_rev_3"><a id="GUID-2D25213B-5D3F-4B4D-9266-685A9C3D8E45"></a>
<h3 id="BDCUG-GUID-2D25213B-5D3F-4B4D-9266-685A9C3D8E45" class="sect3"><span class="enumeration_section">3.7.6</span> Custom Input Formats</h3>
<div>
<p>If the built-in input formats do not meet your needs, then you can write a Java class for a custom input format. The following information describes the framework in which an input format works in Oracle Loader for Hadoop.</p>
</div>
<a id="BDCUG478"></a>
<div class="props_rev_3"><a id="GUID-463D8876-6C11-4346-9199-BB4F592BA1EB"></a>
<h4 id="BDCUG-GUID-463D8876-6C11-4346-9199-BB4F592BA1EB" class="sect4"><span class="enumeration_section">3.7.6.1</span> About Implementing a Custom Input Format</h4>
<div>
<p>Oracle Loader for Hadoop gets its input from a class extending <code class="codeph">org.apache.hadoop.mapreduce.InputFormat</code>. You must specify the name of that class in the <code class="codeph">mapreduce.job.inputformat.class</code> configuration property.</p>
<p>The input format must create <code class="codeph">RecordReader</code> instances that return an Avro <code class="codeph">IndexedRecord</code> input object from the <code class="codeph">getCurrentValue</code> method. Use this method signature:</p>
<pre dir="ltr">
public org.apache.avro.generic.IndexedRecord getCurrentValue()
throws IOException, InterruptedException;
</pre>
<p>Oracle Loader for Hadoop uses the schema of the <code class="codeph">IndexedRecord</code> input object to discover the names of the input fields and map them to the columns of the target table.</p>
</div>
</div>
<a id="BDCUG479"></a>
<div class="props_rev_3"><a id="GUID-7761B9EB-C3C6-4950-B222-467207944864"></a>
<h4 id="BDCUG-GUID-7761B9EB-C3C6-4950-B222-467207944864" class="sect4"><span class="enumeration_section">3.7.6.2</span> About Error Handling</h4>
<div>
<p>If processing an <code class="codeph">IndexedRecord</code> value results in an error, Oracle Loader for Hadoop uses the object returned by the <code class="codeph">getCurrentKey</code> method of the <code class="codeph">RecordReader</code> to provide feedback. It calls the <code class="codeph">toString</code> method of the key and formats the result in an error message. <code class="codeph">InputFormat</code> developers can assist users in identifying the rejected records by returning one of the following:</p>
<ul style="list-style-type: disc;">
<li>
<p>Data file URI</p>
</li>
<li>
<p><code class="codeph">InputSplit</code> information</p>
</li>
<li>
<p>Data file name and the record offset in that file</p>
</li>
</ul>
<p>Oracle recommends that you do not return the record in clear text, because it might contain sensitive information; the returned values can appear in Hadoop logs throughout the cluster. See <span class="q">"<a href="olh.htm#GUID-E7FEFCCD-C7BD-4764-BE74-EDC0AA14687D">Logging Rejected Records in Bad Files</a>."</span></p>
<p>If a record fails and the key is null, then the loader generates no identifying information.</p>
</div>
</div>
<a id="BDCUG480"></a>
<div class="props_rev_3"><a id="GUID-72A9EA98-7F59-4DD6-8431-FE0944DB331C"></a>
<h4 id="BDCUG-GUID-72A9EA98-7F59-4DD6-8431-FE0944DB331C" class="sect4"><span class="enumeration_section">3.7.6.3</span> Supporting Data Sampling</h4>
<div>
<p>Oracle Loader for Hadoop uses a sampler to improve performance of its MapReduce job. The sampler is multithreaded, and each sampler thread instantiates its own copy of the supplied <code class="codeph">InputFormat</code> class. When implementing a new <code class="codeph">InputFormat</code>, ensure that it is thread-safe. See <span class="q">"<a href="olh.htm#GUID-75DCE50C-2476-4FDC-8DF5-FAE9F0CF78EA">Balancing Loads When Loading Data into Partitioned Tables</a>."</span></p>
</div>
</div>
<a id="BDCUG481"></a>
<div class="props_rev_3"><a id="GUID-A7CFFD47-2D34-42AE-BDDE-BF528A569048"></a>
<h4 id="BDCUG-GUID-A7CFFD47-2D34-42AE-BDDE-BF528A569048" class="sect4"><span class="enumeration_section">3.7.6.4</span> InputFormat Source Code Example</h4>
<div>
<div class="section">
<p>Oracle Loader for Hadoop provides the source code for an <code class="codeph">InputFormat</code> example, which is located in the <code class="codeph">examples/jsrc/</code> directory.</p>
<p>The sample format loads data from a simple, comma-separated value (CSV) file. To use this input format, specify <code class="codeph">oracle.hadoop.loader.examples.CSVInputFormat</code> as the value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">mapreduce.job.inputformat.class</a></code> in the job configuration file.</p>
<p>This input format automatically assigns field names of F0, F1, F2, and so forth. It does not have configuration properties.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
<a id="BDCUG148"></a>
<div class="props_rev_3"><a id="GUID-3C845932-1F8C-4ECC-AD87-B71E8344D5BF"></a>
<h2 id="BDCUG-GUID-3C845932-1F8C-4ECC-AD87-B71E8344D5BF" class="sect2"><span class="enumeration_section">3.8</span> Mapping Input Fields to Target Table Columns</h2>
<div>
<p>Mapping identifies which input fields are loaded into which columns of the target table. You may be able to use the automatic mapping facilities, or you can always manually map the input fields to the target columns.</p>
</div>
<a id="BDCUG482"></a>
<div class="props_rev_3"><a id="GUID-CC622991-C4A3-4E34-BD76-7361A724825E"></a>
<h3 id="BDCUG-GUID-CC622991-C4A3-4E34-BD76-7361A724825E" class="sect3"><span class="enumeration_section">3.8.1</span> Automatic Mapping</h3>
<div>
<p>Oracle Loader for Hadoop can automatically map the fields to the appropriate columns when the input data complies with these requirements:</p>
<ul style="list-style-type: disc;">
<li>
<p>All columns of the target table are loaded.</p>
</li>
<li>
<p>The input data field names in the <code class="codeph">IndexedRecord</code> input object exactly match the column names.</p>
</li>
<li>
<p>All input fields that are mapped to <code class="codeph">DATE</code> columns can be parsed using the same Java date format.</p>
</li>
</ul>
<p>Use these configuration properties for automatic mappings:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBCHBA">oracle.hadoop.loader.loaderMap.targetTable</a></code>: Identifies the target table.</p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDIICA">oracle.hadoop.loader.defaultDateFormat</a></code>: Specifies a default date format that applies to all <code class="codeph">DATE</code> fields.</p>
</li>
</ul>
</div>
</div>
<a id="BDCUG483"></a>
<div class="props_rev_3"><a id="GUID-5AFD27AA-5196-4B6F-A832-F6E5EB349331"></a>
<h3 id="BDCUG-GUID-5AFD27AA-5196-4B6F-A832-F6E5EB349331" class="sect3"><span class="enumeration_section">3.8.2</span> Manual Mapping</h3>
<div>
<p>For loads that do not comply with the requirements for automatic mapping, you must define additional properties. These properties enable you to:</p>
<ul style="list-style-type: disc;">
<li>
<p>Load data into a subset of the target table columns.</p>
</li>
<li>
<p>Create explicit mappings when the input field names are not identical to the database column names.</p>
</li>
<li>
<p>Specify different date formats for different input fields.</p>
</li>
</ul>
<p>Use these properties for manual mappings:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBCHBA">oracle.hadoop.loader.loaderMap.targetTable</a></code> configuration property to identify the target table. Required.</p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCFFGI">oracle.hadoop.loader.loaderMap.columnNames</a></code>: Lists the columns to be loaded.</p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDIICA">oracle.hadoop.loader.defaultDateFormat</a></code>: Specifies a default date format that applies to all <code class="codeph">DATE</code> fields.</p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCEC">oracle.hadoop.loader.loaderMap.column_name.format</a></code>: Specifies the data format for a particular column.</p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFIACH">oracle.hadoop.loader.loaderMap.column_name.field</a></code>: Identifies the name of an Avro record field mapped to a particular column.</p>
</li>
</ul>
</div>
</div>
<a id="BDCUG524"></a><a id="BDCUG523"></a>
<div class="props_rev_3"><a id="GUID-AA543062-960D-44F5-B09B-0C352A6A18CD"></a>
<h3 id="BDCUG-GUID-AA543062-960D-44F5-B09B-0C352A6A18CD" class="sect3"><span class="enumeration_section">3.8.3</span> Converting a Loader Map File</h3>
<div>
<p>The following utility converts a loader map file from earlier releases to a configuration file:</p>
<pre dir="ltr">
hadoop oracle.hadoop.loader.metadata.LoaderMap -convert <span class="italic">map_file</span> <span class="italic">conf_file</span>
</pre>
<div class="section">
<p class="subhead3">Options</p>
<dl>
<dt class="dlterm"><a id="GUID-AA543062-960D-44F5-B09B-0C352A6A18CD__GUID-FC2D2520-0470-41C5-9E13-14FCB8A77CA0"><!-- --></a><span class="italic">map_file</span></dt>
<dd>
<p>The name of the input loader map file on the local file system (not HDFS).</p>
</dd>
<dt class="dlterm"><a id="GUID-AA543062-960D-44F5-B09B-0C352A6A18CD__GUID-5CC5A5D5-DD63-4F38-A809-3316520B27BD"><!-- --></a><span class="italic">conf_file</span></dt>
<dd>
<p>The name of the output configuration file on the local file system (not HDFS).</p>
</dd>
</dl>
</div>
<!-- class="section" -->
<p>The following example shows a sample conversion.</p>
<div class="example" id="GUID-AA543062-960D-44F5-B09B-0C352A6A18CD__BABBHAHA">
<p class="titleinexample">Example 3-3 Converting a Loader File to Configuration Properties</p>
<pre dir="ltr">
$ <span class="bold">HADOOP_CLASSPATH="$OLH_HOME/jlib/*:$HADOOP_CLASSPATH"</span>
$ <span class="bold">hadoop oracle.hadoop.loader.metadata.LoaderMap -convert loadermap.xml conf.xml</span>
Oracle Loader for Hadoop Release 3.8.1 - Production
 
Copyright (c) 2012, 2017, Oracle and/or its affiliates. All rights reserved.
</pre>
<p><span class="bold">Input Loader Map File loadermap.xml</span></p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;LOADER_MAP&gt;
  &lt;SCHEMA&gt;HR&lt;/SCHEMA&gt;
  &lt;TABLE&gt;EMPLOYEES&lt;/TABLE&gt;
  &lt;COLUMN field="F0"&gt;EMPLOYEE_ID&lt;/COLUMN&gt;
  &lt;COLUMN field="F1"&gt;LAST_NAME&lt;/COLUMN&gt;
  &lt;COLUMN field="F2"&gt;EMAIL&lt;/COLUMN&gt;
  &lt;COLUMN field="F3" format="MM-dd-yyyy"&gt;HIRE_DATE&lt;/COLUMN&gt;
  &lt;COLUMN field="F4"&gt;JOB_ID&lt;/COLUMN&gt;
&lt;/LOADER_MAP&gt;

</pre>
<p><span class="bold">Output Configuration File conf.xml</span></p>
<pre dir="ltr">
&lt;?xml version="1.0" encoding="UTF-8" standalone="yes"?&gt;
&lt;configuration&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.targetTable&lt;/name&gt;
        &lt;value&gt;HR.EMPLOYEES&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.columnNames&lt;/name&gt;
        &lt;value&gt;EMPLOYEE_ID,LAST_NAME,EMAIL,HIRE_DATE,JOB_ID&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.EMPLOYEE_ID.field&lt;/name&gt;
        &lt;value&gt;F0&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.EMPLOYEE_ID.format&lt;/name&gt;
        &lt;value&gt;&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.LAST_NAME.field&lt;/name&gt;
        &lt;value&gt;F1&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.LAST_NAME.format&lt;/name&gt;
        &lt;value&gt;&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.EMAIL.field&lt;/name&gt;
        &lt;value&gt;F2&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.EMAIL.format&lt;/name&gt;
        &lt;value&gt;&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.HIRE_DATE.field&lt;/name&gt;
        &lt;value&gt;F3&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.HIRE_DATE.format&lt;/name&gt;
        &lt;value&gt;MM-dd-yyyy&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.JOB_ID.field&lt;/name&gt;
        &lt;value&gt;F4&lt;/value&gt;
    &lt;/property&gt;
    &lt;property&gt;
        &lt;name&gt;oracle.hadoop.loader.loaderMap.JOB_ID.format&lt;/name&gt;
        &lt;value&gt;&lt;/value&gt;
    &lt;/property&gt;
&lt;/configuration&gt;
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="BDCUG156"></a>
<div class="props_rev_3"><a id="GUID-3D329A46-E0D5-4813-AE23-8D0C3F247B82"></a>
<h2 id="BDCUG-GUID-3D329A46-E0D5-4813-AE23-8D0C3F247B82" class="sect2"><span class="enumeration_section">3.9</span> About Output Formats</h2>
<div>
<p>In online database mode, you can choose between loading the data directly into an Oracle database table or storing it in a file. In offline database mode, you are restricted to storing the output data in a file, which you can load into the target table as a separate procedure. You specify the output format in the job configuration file using the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHHFCE">mapreduce.job.outputformat.class</a></code> property.</p>
<p>Choose from these output formats:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="olh.htm#GUID-0B2E5A4B-A6D1-47E4-97C1-37D27A156C05">JDBC Output Format</a>: Loads the data directly into the target table.</p>
</li>
<li>
<p><a href="olh.htm#GUID-15DE7B55-E308-4965-8B9E-8F37FB6B4A3B">Oracle OCI Direct Path Output Format</a>: Loads the data directly into the target table.</p>
</li>
<li>
<p><a href="olh.htm#GUID-052CF2D1-3F5C-4652-A894-6CFBE40402D5">Delimited Text Output Format</a>: Stores the data in a local file.</p>
</li>
<li>
<p><a href="olh.htm#GUID-02512C0C-1B34-4CD0-AC0A-01BC053B28FE">Oracle Data Pump Output Format</a>: Stores the data in a local file.</p>
</li>
</ul>
</div>
<a id="BDCUG157"></a>
<div class="props_rev_3"><a id="GUID-0B2E5A4B-A6D1-47E4-97C1-37D27A156C05"></a>
<h3 id="BDCUG-GUID-0B2E5A4B-A6D1-47E4-97C1-37D27A156C05" class="sect3"><span class="enumeration_section">3.9.1</span> JDBC Output Format</h3>
<div>
<p>You can use a JDBC connection between the Hadoop system and Oracle Database to load the data. The output records of the loader job are loaded directly into the target table by map or reduce tasks as part of the <code class="codeph">OraLoader</code> process, in online database mode. No additional steps are required to load the data.</p>
<p>A JDBC connection must be open between the Hadoop cluster and the Oracle Database system for the duration of the job.</p>
<p>To use this output format, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHHFCE">mapreduce.job.outputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.output.JDBCOutputFormat</code></p>
</div>
<a id="BDCUG486"></a>
<div class="props_rev_3"><a id="GUID-589F37E0-CF9B-4D28-B752-24351D9C1C8B"></a>
<h4 id="BDCUG-GUID-589F37E0-CF9B-4D28-B752-24351D9C1C8B" class="sect4"><span class="enumeration_section">3.9.1.1</span> About JDBCOutputFormat</h4>
<div>
<p><code class="codeph">JDBCOutputFormat</code> uses standard JDBC batching to optimize performance and efficiency. If an error occurs during batch execution, such as a constraint violation, the JDBC driver stops execution immediately. Thus, if there are 100 rows in a batch and the tenth row causes an error, then nine rows are inserted and 91 rows are not.</p>
<p>The JDBC <a id="d19675e2304" class="indexterm-anchor"></a><a id="d19675e2308" class="indexterm-anchor"></a>driver does not identify the row that caused the error, and so Oracle Loader for Hadoop does not know the insert status of any of the rows in the batch. It counts all rows in a batch with errors as "in question," that is, the rows may or may not be inserted in the target table. The loader then continues loading the next batch. It generates a load report at the end of the job that details the number of batch errors and the number of rows in question.</p>
<p>One way that you can handle this problem is by defining a unique key in the target table. For example, the <code class="codeph">HR.EMPLOYEES</code> table has a primary key named <code class="codeph">EMPLOYEE_ID</code>. After loading the data into <code class="codeph">HR.EMPLOYEES</code>, you can query it by <code class="codeph">EMPLOYEE_ID</code> to discover the missing employee IDs.Then you can locate the missing employee IDs in the input data, determine why they failed to load, and try again to load them.</p>
</div>
</div>
<a id="BDCUG487"></a>
<div class="props_rev_3"><a id="GUID-652D7781-9516-486F-92EC-EE1B84A083F4"></a>
<h4 id="BDCUG-GUID-652D7781-9516-486F-92EC-EE1B84A083F4" class="sect4"><span class="enumeration_section">3.9.1.2</span> Configuration Properties</h4>
<div>
<div class="section">
<p>To control the batch size, set this property:</p>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJGADB">oracle.hadoop.loader.connection.defaultExecuteBatch</a></code></p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG158"></a>
<div class="props_rev_3"><a id="GUID-15DE7B55-E308-4965-8B9E-8F37FB6B4A3B"></a>
<h3 id="BDCUG-GUID-15DE7B55-E308-4965-8B9E-8F37FB6B4A3B" class="sect3"><span class="enumeration_section">3.9.2</span> Oracle OCI Direct Path Output Format</h3>
<div>
<p>You can use the direct path interface of Oracle Call Interface (OCI) to load data into the target table. Each reducer loads into a distinct database partition in online database mode, enabling the performance gains of a parallel load. No additional steps are required to load the data.</p>
<p>The OCI connection must be open between the Hadoop cluster and the Oracle Database system for the duration of the job.</p>
<p>To use this output format, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHHFCE">mapreduce.job.outputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.output.OCIOutputFormat</code></p>
</div>
<a id="BDCUG488"></a>
<div class="props_rev_3"><a id="GUID-FC5ACE7B-9927-4785-8701-151E26EDA125"></a>
<h4 id="BDCUG-GUID-FC5ACE7B-9927-4785-8701-151E26EDA125" class="sect4"><span class="enumeration_section">3.9.2.1</span> About OCIOutputFormat</h4>
<div>
<p><code class="codeph">OCIOutputFormat</code> has the following restrictions:</p>
<ul style="list-style-type: disc;">
<li>
<p>It is available only on the Linux x86.64 platform.</p>
</li>
<li>
<p>The MapReduce job must create one or more reducers.</p>
</li>
<li>
<p>The target table must be partitioned.</p>
</li>
<li>
<p>For Oracle Database 11<span class="italic">g</span> (11.2.0.3), apply the patch for bug 13498646 if the target table is a composite interval partitioned table in which the subpartition key contains a <code class="codeph">CHAR</code>, <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, or <code class="codeph">NVARCHAR2</code> column. Later versions of Oracle Database do not require this patch.</p>
</li>
</ul>
</div>
</div>
<a id="BDCUG489"></a>
<div class="props_rev_3"><a id="GUID-029EB56D-F868-4FE1-B136-B6576D8F9F6B"></a>
<h4 id="BDCUG-GUID-029EB56D-F868-4FE1-B136-B6576D8F9F6B" class="sect4"><span class="enumeration_section">3.9.2.2</span> Configuration Properties</h4>
<div>
<div class="section">
<p>To control the size of the direct path stream buffer, set this property:</p>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDFIID">oracle.hadoop.loader.output.dirpathBufsize</a></code></p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG159"></a>
<div class="props_rev_3"><a id="GUID-052CF2D1-3F5C-4652-A894-6CFBE40402D5"></a>
<h3 id="BDCUG-GUID-052CF2D1-3F5C-4652-A894-6CFBE40402D5" class="sect3"><span class="enumeration_section">3.9.3</span> Delimited Text Output Format</h3>
<div>
<p>You can create delimited text output files on the Hadoop cluster. The map or reduce tasks generate delimited text files, using the field delimiters and enclosers that you specify in the job configuration properties. Afterward, you can load the data into an Oracle database as a separate procedure. See <span class="q">"<a href="olh.htm#GUID-B7363850-D1E0-4E14-9391-01FCB6175C3A">About DelimitedTextOutputFormat</a>."</span></p>
<p>This output format can use either an open connection to the Oracle Database system to retrieve the table metadata in online database mode, or a table metadata file generated by the <code class="codeph">OraloaderMetadata</code> utility in offline database mode.</p>
<p>To use this output format, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHHFCE">mapreduce.job.outputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.output.DelimitedTextOutputFormat</code></p>
</div>
<a id="BDCUG491"></a>
<div class="props_rev_3"><a id="GUID-B7363850-D1E0-4E14-9391-01FCB6175C3A"></a>
<h4 id="BDCUG-GUID-B7363850-D1E0-4E14-9391-01FCB6175C3A" class="sect4"><span class="enumeration_section">3.9.3.1</span> About DelimitedTextOutputFormat</h4>
<div>
<p>Output tasks generate delimited text format files, and one or more corresponding SQL*Loader control files, and SQL scripts for loading with external tables.</p>
<p>If the target table is not partitioned or if <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCCBIC">oracle.hadoop.loader.loadByPartition</a></code> is <code class="codeph">false</code>, then <code class="codeph">DelimitedTextOutputFormat</code> generates the following files:</p>
<ul style="list-style-type: disc;">
<li>
<p>A data file named <code class="codeph">oraloader-</code><span class="italic"><code class="codeph">taskId</code></span><code class="codeph">-csv-0.dat.</code></p>
</li>
<li>
<p>A SQL*Loader control file named oraloader-csv.ctl for the entire job.</p>
</li>
<li>
<p>A SQL script named <code class="codeph">oraloader-csv.sql</code> to load the delimited text file into the target table.</p>
</li>
</ul>
<p>For partitioned tables, multiple output files are created with the following names:</p>
<ul style="list-style-type: disc;">
<li>
<p>Data files: <code class="codeph">oraloader-</code><span class="italic"><code class="codeph">taskId</code></span><code class="codeph">-csv-</code><span class="italic"><code class="codeph">partitionId</code></span><code class="codeph">.dat</code></p>
</li>
<li>
<p>SQL*Loader control files: <code class="codeph">oraloader-</code><span class="italic"><code class="codeph">taskId</code></span><code class="codeph">-csv-</code><span class="italic"><code class="codeph">partitionId</code></span><code class="codeph">.ctl</code></p>
</li>
<li>
<p>SQL script: <code class="codeph">oraloader-csv.sql</code></p>
</li>
</ul>
<p>In the generated file names, <span class="italic">taskId</span> is the mapper or reducer identifier, and <span class="italic">partitionId</span> is the partition identifier.</p>
<p>If the Hadoop cluster is connected to the Oracle Database system, then you can use Oracle SQL Connector for HDFS to load the delimited text data into an Oracle database. See <a href="osch.htm#GUID-03254C3C-3C8F-4C88-AD9D-91ADFDBC488D">Oracle SQL Connector for Hadoop Distributed File System</a>.</p>
<p>Alternatively, you can copy the delimited text files to the database system and load the data into the target table in one of the following ways:</p>
<ul style="list-style-type: disc;">
<li>
<p>Use the generated control files to run <a id="d19675e2611" class="indexterm-anchor"></a>SQL*Loader and load the data from the delimited text files.</p>
</li>
<li>
<p>Use the generated SQL scripts to perform external table loads.</p>
</li>
</ul>
<p>The files are located in the <code class="codeph">${mapreduce.output.fileoutputformat.outputdir}/_olh</code> directory.</p>
</div>
</div>
<a id="BDCUG324"></a><a id="BDCUG492"></a>
<div class="props_rev_3"><a id="GUID-9EC44830-A5D1-41C8-B852-4F2BDD5E2912"></a>
<h4 id="BDCUG-GUID-9EC44830-A5D1-41C8-B852-4F2BDD5E2912" class="sect4"><span class="enumeration_section">3.9.3.2</span> Configuration Properties</h4>
<div>
<div class="section">
<p>The following properties control the formatting of records and fields in the output files:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFHGDC">oracle.hadoop.loader.output.escapeEnclosers</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCHD">oracle.hadoop.loader.output.fieldTerminator</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBFBGJ">oracle.hadoop.loader.output.initialFieldEncloser</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJAIBI">oracle.hadoop.loader.output.trailingFieldEncloser</a></code></p>
</li>
</ul>
<p>The following example shows a sample SQL*Loader control file that might be generated by an output task.</p>
</div>
<!-- class="section" -->
<div class="example" id="GUID-9EC44830-A5D1-41C8-B852-4F2BDD5E2912__BABIAJGI">
<p class="titleinexample">Example 3-4 Sample SQL*Loader Control File</p>
<pre dir="ltr">
LOAD DATA CHARACTERSET AL32UTF8
INFILE 'oraloader-csv-1-0.dat'
BADFILE 'oraloader-csv-1-0.bad'
DISCARDFILE 'oraloader-csv-1-0.dsc'
INTO TABLE "SCOTT"."CSV_PART" PARTITION(10) APPEND
FIELDS TERMINATED BY ',' OPTIONALLY ENCLOSED BY '"'
(
   "ID"      DECIMAL EXTERNAL,
   "NAME"    CHAR,
   "DOB"     DATE 'SYYYY-MM-DD HH24:MI:SS'
)
</pre></div>
<!-- class="example" --></div>
</div>
</div>
<a id="BDCUG161"></a>
<div class="props_rev_3"><a id="GUID-02512C0C-1B34-4CD0-AC0A-01BC053B28FE"></a>
<h3 id="BDCUG-GUID-02512C0C-1B34-4CD0-AC0A-01BC053B28FE" class="sect3"><span class="enumeration_section">3.9.4</span> Oracle Data Pump Output Format</h3>
<div>
<p>You can create Data Pump format files on the Hadoop cluster. The map or reduce tasks generate Data Pump files. Afterward, you can load the data into an Oracle database as a separate procedure. See <span class="q">"<a href="olh.htm#GUID-4CFAC56A-DFFA-48A6-9BF4-2126AE558B28">About DataPumpOutputFormat</a>."</span></p>
<p>This output format can use either an open connection to the Oracle Database system in online database mode, or a table metadata file generated by the <code class="codeph">OraloaderMetadata</code> utility in offline database mode.</p>
<p>To use this output format, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHHFCE">mapreduce.job.outputformat.class</a></code> to</p>
<p><code class="codeph">oracle.hadoop.loader.lib.output.DataPumpOutputFormat</code></p>
</div>
<a id="BDCUG493"></a>
<div class="props_rev_3"><a id="GUID-4CFAC56A-DFFA-48A6-9BF4-2126AE558B28"></a>
<h4 id="BDCUG-GUID-4CFAC56A-DFFA-48A6-9BF4-2126AE558B28" class="sect4"><span class="enumeration_section">3.9.4.1</span> About DataPumpOutputFormat</h4>
<div>
<p><code class="codeph">DataPumpOutputFormat</code> generates data files with names in this format:</p>
<p><code class="codeph">oraloader-</code><span class="italic"><code class="codeph">taskId</code></span><code class="codeph">-dp-</code><span class="italic"><code class="codeph">partitionId</code></span><code class="codeph">.dat</code></p>
<p>In the generated file names, <span class="italic">taskId</span> is the mapper or reducer identifier, and <span class="italic">partitionId</span> is the partition identifier.</p>
<p>If the Hadoop cluster is connected to the Oracle Database system, then you can use Oracle SQL Connector for HDFS to load the Data Pump files into an Oracle database. See <a href="osch.htm#GUID-03254C3C-3C8F-4C88-AD9D-91ADFDBC488D">Oracle SQL Connector for Hadoop Distributed File System</a>.</p>
<p>Alternatively, you can copy the Data Pump files to the database system and load them using a SQL script generated by Oracle Loader for Hadoop. The script performs the following tasks:</p>
<ol>
<li>
<p>Creates an external table definition using the <code class="codeph">ORACLE_DATAPUMP</code> access driver. The binary format Oracle Data Pump output files are listed in the <code class="codeph">LOCATION</code> clause of the external table.</p>
</li>
<li>
<p>Creates a directory object that is used by the external table. You must uncomment this command before running the script. To specify the directory name used in the script, set the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHAEGH">oracle.hadoop.loader.extTabDirectoryName</a></code> property in the job configuration file.</p>
</li>
<li>
<p>Insert the rows from the external table into the target table. You must uncomment this command before running the script.</p>
</li>
</ol>
<p>The SQL script is located in the <code class="codeph">${mapreduce.output.fileoutputformat.outputdir}/_olh</code> directory.</p>
<div class="infoboxnotealso" id="GUID-4CFAC56A-DFFA-48A6-9BF4-2126AE558B28__GUID-64E851B2-A734-4A1D-814E-FEA685475937">
<p class="notep1">See Also:</p>
<ul style="list-style-type: disc;">
<li>
<p><a class="olink ADMIN-GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E87334-01&amp;id=ADMIN-GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about creating and managing external tables</p>
</li>
<li>
<p><a class="olink SUTIL-GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E87334-01&amp;id=SUTIL-GUID-0B2EC1B2-701D-42ED-874C-47F22F21D847"><span class="italic">Oracle Database Utilities</span></a> for more information about the <code class="codeph">ORACLE_DATAPUMP</code> access <a id="d19675e2811" class="indexterm-anchor"></a><a id="d19675e2815" class="indexterm-anchor"></a>driver</p>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<a id="BDCUG494"></a><a id="BDCUG153"></a>
<div class="props_rev_3"><a id="GUID-EF6FA81A-556F-4454-B039-DAA8BB9F317A"></a>
<h2 id="BDCUG-GUID-EF6FA81A-556F-4454-B039-DAA8BB9F317A" class="sect2"><span class="enumeration_section">3.10</span> Running a Loader Job</h2>
<div>
<div class="section">
<p>To run a job using Oracle Loader for Hadoop, you use the <code class="codeph">OraLoader</code> utility in a <code class="codeph">hadoop</code> command.</p>
<p>The following is the basic syntax:</p>
<pre dir="ltr">
hadoop jar $OLH_HOME/jlib/oraloader.jar oracle.hadoop.loader.OraLoader \
-conf <span class="italic">job_config</span>.xml \
-libjars <span class="italic">input_file_format1</span>.jar[,<span class="italic">input_file_format2</span>.jar...]
</pre>
<p>You can include any generic <code class="codeph">hadoop</code> command-line option. <code class="codeph">OraLoader</code> implements the <code class="codeph">org.apache.hadoop.util.Tool</code> interface and follows the standard Hadoop methods for building MapReduce applications.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Basic Options</p>
<dl>
<dt class="dlterm"><a id="GUID-EF6FA81A-556F-4454-B039-DAA8BB9F317A__GUID-F4680B76-7366-4542-85DC-787D21621E08"><!-- --></a>-conf <span class="italic">job_config</span>.xml</dt>
<dd>
<p>Identifies the job configuration file. See <span class="q">"<a href="olh.htm#GUID-9D47AE4C-0D31-44E0-AC6A-07BBDD94EE05">Creating a Job Configuration File</a>."</span></p>
</dd>
<dt class="dlterm"><a id="GUID-EF6FA81A-556F-4454-B039-DAA8BB9F317A__GUID-075C3688-BCFC-415F-B319-4C350B6843B9"><!-- --></a>-libjars</dt>
<dd>
<p>Identifies the JAR files for the input format.</p>
<ul style="list-style-type: disc;">
<li>
<p>When using the example input format, specify <code class="codeph">$OLH_HOME/jlib/oraloader-examples.jar</code>.</p>
</li>
<li>
<p>When using the Hive or Oracle NoSQL Database input formats, you must specify additional JAR files, as described later in this section.</p>
</li>
<li>
<p>When using a custom input format, specify its JAR file. (Also remember to add it to <code class="codeph">HADOOP_CLASSPATH</code>.)</p>
</li>
</ul>
</dd>
</dl>
</div>
<!-- class="section" -->
<div class="section">
<p>Separate multiple file names with commas, and list each one explicitly. Wildcard characters and spaces are not allowed.</p>
<p>Oracle Loader for Hadoop prepares internal configuration information for the MapReduce tasks. It stores table metadata information and the dependent Java libraries in the distributed cache, so that they are available to the MapReduce tasks throughout the cluster.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">Example of Running OraLoader</p>
</div>
<!-- class="section" -->
<div class="section">
<p>The following example uses a built-in input format and a job configuration file named <code class="codeph">MyConf.xml</code>:</p>
<pre dir="ltr">
HADOOP_CLASSPATH="$OLH_HOME/jlib/*:$HADOOP_CLASSPATH"

hadoop jar $OLH_HOME/jlib/oraloader.jar oracle.hadoop.loader.OraLoader \
-conf MyConf.xml -libjars $OLH_HOME/jlib/oraloader-examples.jar
</pre></div>
<!-- class="section" --></div>
<a id="BDCUG495"></a>
<div class="props_rev_3"><a id="GUID-AB7AC6F3-B6A1-468D-889E-E3CC767511DC"></a>
<h3 id="BDCUG-GUID-AB7AC6F3-B6A1-468D-889E-E3CC767511DC" class="sect3"><span class="enumeration_section">3.10.1</span> Specifying Hive Input Format JAR Files</h3>
<div>
<p>When using <a id="d19675e2945" class="indexterm-anchor"></a><code class="codeph">HiveToAvroInputFormat</code>, you must add the Hive configuration directory to the <code class="codeph">HADOOP_CLASSPATH</code> environment variable:</p>
<pre dir="ltr">
HADOOP_CLASSPATH="$OLH_HOME/jlib/*:<span class="italic">hive_home</span>/lib/*:<span class="italic">hive_conf_dir</span>:$HADOOP_CLASSPATH"
</pre>
<p>You must also add the following <a id="d19675e2963" class="indexterm-anchor"></a>Hive JAR files, in a comma-separated list, to the <code class="codeph">-libjars</code> option of the <code class="codeph">hadoop</code> command. Replace the stars (*) with the complete file names on your system:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">hive-exec-*.jar</code></p>
</li>
<li>
<p><code class="codeph">hive-metastore-*.jar</code></p>
</li>
<li>
<p><code class="codeph">libfb303*.jar</code></p>
</li>
</ul>
<p>This example shows the full file names in Cloudera's Distribution including Apache Hadoop (CDH) 5.8:</p>
<pre dir="ltr">
# hadoop jar $OLH_HOME/jlib/oraloader.jar oracle.hadoop.loader.OraLoader \ 
-conf <span class="italic">MyConf</span>.xml \
-libjars hive-exec-1.1.0-cdh5.8.0.jar, hive-metastore-1.1.0-cdh5.8.0.jar, libfb303-0.9.3.jar  
</pre></div>
</div>
<a id="BDCUG496"></a>
<div class="props_rev_3"><a id="GUID-0C76C68E-9B48-4A70-99D4-ABA4469C6E19"></a>
<h3 id="BDCUG-GUID-0C76C68E-9B48-4A70-99D4-ABA4469C6E19" class="sect3"><span class="enumeration_section">3.10.2</span> Specifying Oracle NoSQL Database Input Format JAR Files</h3>
<div>
<div class="section">
<p>When using <a id="d19675e3013" class="indexterm-anchor"></a><code class="codeph">KVAvroInputFormat</code> from Oracle NoSQL Database 11<span class="italic">g</span>, Release 2, you must include <code class="codeph">$KVHOME/lib/kvstore.jar</code> in your <code class="codeph">HADOOP_CLASSPATH</code> and you must include the <code class="codeph">-libjars</code> option in the <code class="codeph">hadoop</code> command:</p>
<pre dir="ltr">
hadoop jar $OLH_HOME/jlib/oraloader.jar oracle.hadoop.loader.OraLoader \ 
-conf MyConf.xml \
-libjars $KVHOME/lib/kvstore.jar
</pre></div>
<!-- class="section" --></div>
</div>
<a id="BDCUG497"></a>
<div class="props_rev_3"><a id="GUID-43E28B4E-4A51-47B6-A806-394F3ECD9903"></a>
<h3 id="BDCUG-GUID-43E28B4E-4A51-47B6-A806-394F3ECD9903" class="sect3"><span class="enumeration_section">3.10.3</span> Job Reporting</h3>
<div>
<p>Oracle Loader for Hadoop consolidates reporting information from individual tasks into a file named <code class="codeph">${mapreduce.output.fileoutputformat.outputdir}/_olh/oraloader-report.txt</code>. Among other statistics, the report shows the number of errors, broken out by type and task, for each mapper and reducer.</p>
</div>
</div>
</div>
<a id="BDCUG389"></a>
<div class="props_rev_3"><a id="GUID-E435097B-41B3-4DD7-B0CA-4B94D6BF6729"></a>
<h2 id="BDCUG-GUID-E435097B-41B3-4DD7-B0CA-4B94D6BF6729" class="sect2"><span class="enumeration_section">3.11</span> Handling Rejected Records</h2>
<div>
<p>Oracle Loader for Hadoop may reject input records for a variety of reasons, such as:</p>
<ul style="list-style-type: disc;">
<li>
<p>Errors in the mapping properties</p>
</li>
<li>
<p>Missing fields in the input data</p>
</li>
<li>
<p>Records mapped to invalid table partitions</p>
</li>
<li>
<p>Badly formed records, such as dates that do not match the date format or records that do not match regular expression patterns</p>
</li>
</ul>
</div>
<a id="BDCUG390"></a>
<div class="props_rev_3"><a id="GUID-E7FEFCCD-C7BD-4764-BE74-EDC0AA14687D"></a>
<h3 id="BDCUG-GUID-E7FEFCCD-C7BD-4764-BE74-EDC0AA14687D" class="sect3"><span class="enumeration_section">3.11.1</span> Logging Rejected Records in Bad Files</h3>
<div>
<div class="section">
<p>By default, Oracle Loader for Hadoop does not log the rejected records into Hadoop logs; it only logs information on how to identify the rejected records. This practice prevents user-sensitive information from being stored in Hadoop logs across the cluster.</p>
<p>You can direct Oracle Loader for Hadoop to log rejected records by setting the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEIJEB">oracle.hadoop.loader.logBadRecords</a></code> configuration property to <code class="codeph">true</code>. Then Oracle Loader for Hadoop logs bad records into one or more "bad" files in the <code class="codeph">_olh/</code> directory under the job output directory.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG391"></a>
<div class="props_rev_3"><a id="GUID-8812484F-2D34-4096-9D21-B67232222B96"></a>
<h3 id="BDCUG-GUID-8812484F-2D34-4096-9D21-B67232222B96" class="sect3"><span class="enumeration_section">3.11.2</span> Setting a Job Reject Limit</h3>
<div>
<div class="section">
<p><a id="d19675e3147" class="indexterm-anchor"></a><a id="d19675e3149" class="indexterm-anchor"></a>Some problems can cause Oracle Loader for Hadoop to reject every record in the input. To mitigate the loss of time and resources, Oracle Loader for Hadoop aborts the job after rejecting 1000 records.</p>
<p>You can change the maximum number of rejected records allowed by setting the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIGABJ">oracle.hadoop.loader.rejectLimit</a></code> configuration property. A negative value turns off the reject limit and allows the job to run to completion regardless of the number of rejected records.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
<a id="BDCUG162"></a>
<div class="props_rev_3"><a id="GUID-75DCE50C-2476-4FDC-8DF5-FAE9F0CF78EA"></a>
<h2 id="BDCUG-GUID-75DCE50C-2476-4FDC-8DF5-FAE9F0CF78EA" class="sect2"><span class="enumeration_section">3.12</span> Balancing Loads When Loading Data into Partitioned Tables</h2>
<div>
<p>The goal of <a id="d19675e3188" class="indexterm-anchor"></a>load balancing is to generate a MapReduce partitioning scheme that assigns approximately the same amount of work to all reducers.</p>
<p>The sampling feature of Oracle Loader for Hadoop balances loads across reducers when data is loaded into a partitioned database table. It generates an efficient MapReduce partitioning scheme that assigns database partitions to the reducers.</p>
<p>The execution time of a reducer is usually proportional to the number of records that it processes&mdash;the more records, the longer the execution time. When sampling is disabled, all records from a given database partition are sent to one reducer. This can result in unbalanced reducer loads, because some database partitions may have more records than others. Because the execution time of a Hadoop job is usually dominated by the execution time of its slowest reducer, unbalanced reducer loads slow down the entire job.</p>
</div>
<a id="BDCUG163"></a>
<div class="props_rev_3"><a id="GUID-1A2EE56B-2573-41B3-94DB-9D6E04DE997B"></a>
<h3 id="BDCUG-GUID-1A2EE56B-2573-41B3-94DB-9D6E04DE997B" class="sect3"><span class="enumeration_section">3.12.1</span> Using the Sampling Feature</h3>
<div>
<div class="section">
<p>You can turn the <a id="d19675e3218" class="indexterm-anchor"></a>sampling feature on or off by setting the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJDJIG">oracle.hadoop.loader.sampler.enableSampling</a></code> configuration property. Sampling is turned on by default.</p>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG165"></a>
<div class="props_rev_3"><a id="GUID-DD23EE99-BA74-403E-B995-D7D3C9596CBE"></a>
<h3 id="BDCUG-GUID-DD23EE99-BA74-403E-B995-D7D3C9596CBE" class="sect3"><span class="enumeration_section">3.12.2</span> Tuning Load Balancing</h3>
<div>
<p>These job configuration properties control the quality of load balancing:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHIGDE">oracle.hadoop.loader.sampler.maxLoadFactor</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCDJDF">oracle.hadoop.loader.sampler.loadCI</a></code></p>
</li>
</ul>
<p>The sampler uses the expected reducer load factor to evaluate the quality of its partitioning scheme. The <span class="bold">load factor</span> is the relative overload for each reducer, calculated as (<span class="italic">assigned_load</span> - <span class="italic">ideal_load</span>)/<span class="italic">ideal_load</span>. This metric indicates how much a reducer's load deviates from a perfectly balanced reducer load. A load factor of 1.0 indicates a perfectly balanced load (no overload).</p>
<p>Small load factors indicate better load balancing. The <code class="codeph">maxLoadFactor</code> default of 0.05 means that no reducer is ever overloaded by more than 5%. The sampler guarantees this <code class="codeph">maxLoadFactor</code> with a statistical confidence level determined by the value of <code class="codeph">loadCI</code>. The default value of <code class="codeph">loadCI</code> is 0.95, which means that any reducer's load factor exceeds <code class="codeph">maxLoadFactor</code> in only 5% of the cases.</p>
<p>There is a trade-off between the execution time of the sampler and the quality of load balancing. Lower values of <code class="codeph">maxLoadFactor</code> and higher values of <code class="codeph">loadCI</code> achieve more balanced reducer loads at the expense of longer sampling times. The default values of <code class="codeph">maxLoadFactor=0.05</code> and <code class="codeph">loadCI=0.95</code> are a good trade-off between load balancing quality and execution time.</p>
</div>
</div>
<a id="BDCUG166"></a>
<div class="props_rev_3"><a id="GUID-27759415-4F7E-4E7B-8F34-2A8F1AD4C06F"></a>
<h3 id="BDCUG-GUID-27759415-4F7E-4E7B-8F34-2A8F1AD4C06F" class="sect3"><span class="enumeration_section">3.12.3</span> Tuning Sampling Behavior</h3>
<div>
<p>By default, the sampler runs until it collects just enough samples to generate a partitioning scheme that satisfies the <code class="codeph">maxLoadFactor</code> and <code class="codeph">loadCI</code> criteria.</p>
<p>However, you can limit the sampler running time by setting the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIFIFB">oracle.hadoop.loader.sampler.maxSamplesPct</a></code> property, which specifies the maximum number of sampled records.</p>
</div>
</div>
<a id="BDCUG167"></a>
<div class="props_rev_3"><a id="GUID-9DA5DFF6-5A24-4315-8C69-143B4CB3E7BA"></a>
<h3 id="BDCUG-GUID-9DA5DFF6-5A24-4315-8C69-143B4CB3E7BA" class="sect3"><span class="enumeration_section">3.12.4</span> When Does Oracle Loader for Hadoop Use the Sampler's Partitioning Scheme?</h3>
<div>
<p>Oracle Loader for Hadoop uses the generated partitioning scheme only if sampling is successful. A sampling is successful if it generates a partitioning scheme with a maximum reducer load factor of (1+ <code class="codeph">maxLoadFactor</code>) guaranteed at a statistical confidence level of <code class="codeph">loadCI</code>.</p>
<p>Partition report identifies the keys that are assigned to the various mappers. This report is saved in XML for the sampler to use; it does not contain information of use to you. The report is named <code class="codeph">${mapreduce.output.fileoutputformat.outputdir}/_balancer/orabalancer_report.xml</code>. It is only generated for sampled jobs. This xml file contains the information about how to assign map output to different reducers, as well as the sampling statistics.</p>
<p>The default values of <code class="codeph">maxLoadFactor</code>, <code class="codeph">loadCI</code>, and <code class="codeph">maxSamplesPct</code> allow the sampler to successfully generate high-quality partitioning schemes for a variety of different input data distributions. However, the sampler might be unsuccessful in generating a partitioning scheme using custom property values, such as when the constraints are too rigid or the number of required samples exceeds the user-specified maximum of <code class="codeph">maxSamplesPct</code>. In these cases, Oracle Loader for Hadoop generates a log message identifying the problem, partitions the records using the database partitioning scheme, and does not guarantee load balancing.</p>
<p>Alternatively, you can reset the configuration properties to less rigid values. Either increase <code class="codeph">maxSamplesPct</code>, or decrease <code class="codeph">maxLoadFactor</code> or <code class="codeph">loadCI</code>, or both.</p>
</div>
</div>
<a id="BDCUG498"></a>
<div class="props_rev_3"><a id="GUID-6CCEC5B2-AEAC-4D92-8AE0-6A9EEB5B9F4D"></a>
<h3 id="BDCUG-GUID-6CCEC5B2-AEAC-4D92-8AE0-6A9EEB5B9F4D" class="sect3"><span class="enumeration_section">3.12.5</span> Resolving Memory Issues</h3>
<div>
<div class="section">
<p>A custom input format may return input splits that do not fit in memory. If this happens, the sampler returns an out-of-memory error on the client node where the loader job is submitted.</p>
<p>To resolve this problem:</p>
</div>
<!-- class="section" -->
<div class="section">
<ul style="list-style-type: disc;">
<li>
<p>Increase the heap size of the JVM where the job is submitted.</p>
</li>
<li>
<p>Adjust the following properties:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJFBIJ">oracle.hadoop.loader.sampler.hintMaxSplitSize</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDHECB">oracle.hadoop.loader.sampler.hintNumMapTasks</a></code></p>
</li>
</ul>
</li>
</ul>
<p>If you are developing a custom input format, then see <span class="q">"<a href="olh.htm#GUID-2D25213B-5D3F-4B4D-9266-685A9C3D8E45">Custom Input Formats</a>."</span></p>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG168"></a>
<div class="props_rev_3"><a id="GUID-21384B99-E4AA-47E1-B234-663C828A38DA"></a>
<h3 id="BDCUG-GUID-21384B99-E4AA-47E1-B234-663C828A38DA" class="sect3"><span class="enumeration_section">3.12.6</span> What Happens When a Sampling Feature Property Has an Invalid Value?</h3>
<div>
<p>If any configuration properties of the sampling feature are set to values outside the accepted range, an exception is not returned. Instead, the sampler prints a warning message, resets the property to its default value, and continues executing.</p>
</div>
</div>
</div>
<a id="BDCUG499"></a>
<div class="props_rev_3"><a id="GUID-39037FAE-724C-4661-9FA0-59E5D7C18FF7"></a>
<h2 id="BDCUG-GUID-39037FAE-724C-4661-9FA0-59E5D7C18FF7" class="sect2"><span class="enumeration_section">3.13</span> Optimizing Communications Between Oracle Engineered Systems</h2>
<div>
<div class="section">
<p>If you are using Oracle Loader for Hadoop to load data from Oracle Big Data Appliance to Oracle Exadata Database Machine, then you can increase throughput by configuring the systems to use Sockets Direct Protocol (SDP) over the InfiniBand private network. This setup provides an additional connection attribute whose sole purpose is serving connections to Oracle Database to load data.</p>
</div>
<!-- class="section" -->
<div class="section">
<p class="subhead2">To specify SDP protocol:</p>
<ol>
<li>
<p>Add JVM options to the <code class="codeph">HADOOP_OPTS</code> environment variable to enable JDBC SDP export:</p>
<pre dir="ltr">
HADOOP_OPTS="-Doracle.net.SDP=true -Djava.net.preferIPv4Stack=true"
</pre></li>
<li>
<p>Set this Hadoop configuration property for the child task JVMs:</p>
<pre dir="ltr">
-D mapred.child.java.opts="-Doracle.net.SDP=true -Djava.net.preferIPv4Stack=true"
</pre>
<div class="infobox-note" id="GUID-39037FAE-724C-4661-9FA0-59E5D7C18FF7__GUID-39D4C44E-774F-4F87-910E-36D5436CCDFF">
<p class="notep1">Note:</p>
<p>This Hadoop configuration property can be either added to the OLH command line or set in the configuration file.</p>
</div>
</li>
<li>
<p>Configure standard Ethernet communications. In the job configuration file, set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJCAAI">oracle.hadoop.loader.connection.url</a></code> using this syntax:</p>
<pre dir="ltr">
jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=
     (ADDRESS=(PROTOCOL=TCP)(HOST=<span class="italic">hostName</span>)(PORT=<span class="italic">portNumber</span>)))
     (CONNECT_DATA=(SERVICE_NAME=<span class="italic">serviceName</span>)))
</pre></li>
<li>
<p>Configure the Oracle listener on Exadata to support the SDP protocol and bind it to a specific port address (such as 1522). In the job configuration file, specify the listener address as the value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABGFFBE">oracle.hadoop.loader.connection.oci_url</a></code> using this syntax:</p>
<pre dir="ltr">
(DESCRIPTION=(ADDRESS=(PROTOCOL=SDP)
    (HOST=<span class="italic">hostName</span>) (PORT=<span class="italic">portNumber</span>))
    (CONNECT_DATA=(SERVICE_NAME=<span class="italic">serviceName</span>)))
</pre>
<p>Replace <span class="italic">hostName</span>, <span class="italic">portNumber</span>, and <span class="italic">serviceName</span> with the appropriate values to identify the SDP listener on your Oracle Exadata Database Machine.</p>
</li>
</ol>
</div>
<!-- class="section" -->
<div class="section">
<div class="infoboxnotealso" id="GUID-39037FAE-724C-4661-9FA0-59E5D7C18FF7__GUID-E617F73E-1862-44F2-B828-264CC9834ECE">
<p class="notep1">See Also:</p>
<p><a class="olink BIGUG257" target="_blank" href="../BIGUG/exadata.htm#BIGUG257"><span class="italic">Oracle Big Data Appliance Software User's Guide</span></a> for more information about configuring communications over InfiniBand</p>
</div>
</div>
<!-- class="section" --></div>
</div>
<a id="BDCUG767"></a><a id="BDCUG768"></a><a id="BDCUG769"></a><a id="BDCUG171"></a>
<div class="props_rev_3"><a id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52"></a>
<h2 id="BDCUG-GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52" class="sect2"><span class="enumeration_section">3.14</span> Oracle Loader for Hadoop Configuration Property Reference</h2>
<div>
<div class="section">
<p><code class="codeph">OraLoader</code> uses the standard methods of specifying configuration properties in the hadoop command. You can use the <code class="codeph">-conf</code> option to identify configuration files, and the <code class="codeph">-D</code> option to specify individual properties.</p>
<p>This section describes the OraLoader configuration properties, the Oracle NoSQL Database configuration properties, and a few generic Hadoop MapReduce properties that you typically must set for an <code class="codeph">OraLoader</code> job:</p>
<ul style="list-style-type: disc;">
<li>
<p><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBBBBF">MapReduce Configuration Properties</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBBDEC">OraLoader Configuration Properties</a></p>
</li>
<li>
<p><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCIHEG">Oracle NoSQL Database Configuration Properties</a></p>
</li>
</ul>
<p>A configuration file showing all OraLoader properties is in <code class="codeph">$OLH_HOME/doc/oraloader-conf.xml</code>.</p>
<div class="p">
<div class="infoboxnotealso" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-3BB87749-AAC4-42A5-B085-8D588CB89F26">
<p class="notep1">See Also:</p>
<p>Hadoop documentation for job configuration files at</p>
<p><a href="http://wiki.apache.org/hadoop/JobConfFile" target="_blank"><code class="codeph">http://wiki.apache.org/hadoop/JobConfFile</code></a></p>
</div>
</div>
</div>
<!-- class="section" -->
<div class="section" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBBBBF">
<p class="subhead2">MapReduce Configuration Properties</p>
<div class="tblformalwide" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-AC4AF0CB-8B9F-4D69-95C3-74CEE741938A">
<table class="cellalignment23" summary="Describes MapReduce configuration properties.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment40" id="d19675e3645">Property</th>
<th class="cellalignment40" id="d19675e3647">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-B21408C9-CADC-4ABA-AA10-A104F23DCDFA">
<td class="cellalignment2" id="d19675e3651" headers="d19675e3645">
<p><span class="bold">mapreduce.job.name</span></p>
</td>
<td class="cellalignment2" headers="d19675e3651 d19675e3647">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">OraLoader</code></p>
<p><span class="bold">Description</span>: The Hadoop job name. A unique name can help you monitor the job using tools such as the Hadoop JobTracker web interface and Cloudera Manager.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-9B4C61A5-CA23-4FAC-9603-046BF7ACFD90">
<td class="cellalignment2" id="d19675e3671" headers="d19675e3645">
<p><span class="bold">mapreduce.input.fileinputformat.inputdir</span></p>
</td>
<td class="cellalignment2" headers="d19675e3671 d19675e3647">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A comma-separated list of input directories.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABICHHA">
<td class="cellalignment2" id="d19675e3689" headers="d19675e3645">
<p><span class="bold">mapreduce.job.inputformat.class</span></p>
</td>
<td class="cellalignment2" headers="d19675e3689 d19675e3647">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Identifies the format of the input data. You can enter one of the following built-in input formats, or the name of a custom <code class="codeph">InputFormat</code> class:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.input.AvroInputFormat</code></p>
</li>
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.input.DelimitedTextInputFormat</code></p>
</li>
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.input.HiveToAvroInputFormat</code></p>
</li>
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.input.RegexInputFormat</code></p>
</li>
<li>
<p><code class="codeph">oracle.kv.hadoop.KVAvroInputFormat</code></p>
</li>
</ul>
<p>See <span class="q">"<a href="olh.htm#GUID-D697AE02-273B-4966-9570-1AB8604D9E76">About Input Formats</a>"</span> for descriptions of the built-in input formats.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-951DAFA4-59FA-4028-BA22-5AD4A1855F10">
<td class="cellalignment2" id="d19675e3737" headers="d19675e3645">
<p><span class="bold">mapreduce.output.fileoutputformat.outputdir</span></p>
</td>
<td class="cellalignment2" headers="d19675e3737 d19675e3647">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A comma-separated list of output directories, which cannot exist before the job runs. Required.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHHFCE">
<td class="cellalignment2" id="d19675e3755" headers="d19675e3645">
<p><span class="bold">mapreduce.job.outputformat.class</span></p>
</td>
<td class="cellalignment2" headers="d19675e3755 d19675e3647">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Identifies the output type. The values can be:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.output.DataPumpOutputFormat</code></p>
<p>Writes data records into binary format files that can be loaded into the target table using an external table.</p>
</li>
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.output.DelimitedTextOutputFormat</code></p>
<p>Writes data records to delimited text format files such as comma-separated values (<a id="d19675e3785" class="indexterm-anchor"></a>CSV) format files.</p>
</li>
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.output.JDBCOutputFormat</code></p>
<p>Inserts rows into the target table using a JDBC connection.</p>
</li>
<li>
<p><code class="codeph">oracle.hadoop.loader.lib.output.OCIOutputFormat</code></p>
<p>Inserts rows into the target table using the <a id="d19675e3800" class="indexterm-anchor"></a>Oracle OCI Direct Path interface.</p>
</li>
</ul>
<p>See <span class="q">"<a href="olh.htm#GUID-3D329A46-E0D5-4813-AE23-8D0C3F247B82">About Output Formats</a>."</span></p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-2B234495-4CCB-4EE9-9C80-50F54A564E2A">
<td class="cellalignment2" id="d19675e3810" headers="d19675e3645">
<p><span class="bold">mapreduce.job.reduces</span></p>
</td>
<td class="cellalignment2" headers="d19675e3810 d19675e3647">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default</span> Value: 1</p>
<p><span class="bold">Description</span>: The number of reduce tasks used by the Oracle Loader for Hadoop job. The default value of 1 does not support parallel processing, therefore performance improves when the value is increased to support multiple parallel data loads. Choose a value that provides an ample, but not excessive, number of reduce tasks for the job. At a point dictated by the available resources, an excessive increase in the number of reduce tasks result in diminishing improvements, while potentially degrading the performance of other jobs.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBBDEC">
<p class="subhead2">OraLoader Configuration Properties</p>
<div class="tblformalwide" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-4CDF8E91-857B-4A83-BFCC-87773239B1FC">
<table class="cellalignment23" summary="Describes OraLoader configuration properties.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment13" id="d19675e3838">Property</th>
<th class="cellalignment13" id="d19675e3840">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIFHHD">
<td class="cellalignment16" id="d19675e3844" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.badRecordFlushInterval</span></p>
</td>
<td class="cellalignment16" headers="d19675e3844 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">500</code></p>
<p><span class="bold">Description</span>: Sets the maximum number of records that a task attempt can log before flushing the log file. This setting limits the number of records that can be lost when the record reject limit (<code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIGABJ">oracle.hadoop.loader.rejectLimit</a></code>) is reached and the job stops running.</p>
<p>The <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEIJEB">oracle.hadoop.loader.logBadRecords</a></code> property must be set to <code class="codeph">true</code> for a flush interval to take effect.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEFHAH">
<td class="cellalignment16" id="d19675e3879" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.compressionFactors</span></p>
</td>
<td class="cellalignment16" headers="d19675e3879 d19675e3840">
<p><span class="bold">Type</span>: Decimal</p>
<p><span class="bold">Default Value</span>: <code class="codeph">BASIC=5.0,OLTP=5.0,QUERY_LOW=10.0,QUERY_HIGH=10.0,ARCHIVE_LOW=10.0,ARCHIVE_HIGH=10.0</code></p>
<p><span class="bold">Description</span>: These values are used by Oracle Loader for Hadoop when sampling is enabled and the target table is compressed. They are the compression factors of the target table. For best performance, the values of this property should match the compression factors of the target table. The values are a comma-delimited list of <span class="italic">name=value</span> pairs. The names must be one of the following keywords:</p>
<p><code class="codeph">ARCHIVE_HIGH</code></p>
<p><code class="codeph">ARCHIVE_LOW</code></p>
<p><code class="codeph">BASIC</code></p>
<p><code class="codeph">OLTP</code></p>
<p><code class="codeph">QUERY_HIGH</code></p>
<p><code class="codeph">QUERY_LOW</code></p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJGADB">
<td class="cellalignment16" id="d19675e3920" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.defaultExecuteBatch</span></p>
</td>
<td class="cellalignment16" headers="d19675e3920 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">100</code></p>
<p><span class="bold">Description</span>: The number of records inserted in one trip to the database. It applies only to <code class="codeph">JDBCOutputFormat</code> and <a id="d19675e3942" class="indexterm-anchor"></a><a id="d19675e3944" class="indexterm-anchor"></a><code class="codeph">OCIOutputFormat</code>.</p>
<p>Specify a value greater than or equal to 1. Although the maximum value is unlimited, very large batch sizes are not recommended because they result in a large memory footprint without much increase in performance.</p>
<p>A value less than 1 sets the property to the default value.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABGFFBE">
<td class="cellalignment16" id="d19675e3954" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.oci_url</span></p>
</td>
<td class="cellalignment16" headers="d19675e3954 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Value of <code class="codeph">oracle.hadoop.loader.connection.url</code></p>
<p><span class="bold">Description</span>: The database connection string used by <code class="codeph">OCIOutputFormat</code>. This property enables the OCI client to connect to the database using different connection parameters than the JDBC connection URL.</p>
<p>The following example specifies Socket Direct Protocol (SDP) for OCI connections.</p>
<p><code class="codeph">(DESCRIPTION=(ADDRESS_LIST=</code></p>
<p><code class="codeph">(ADDRESS=(PROTOCOL=SDP)(HOST=myhost)(PORT=1521)))</code></p>
<p><code class="codeph">(CONNECT_DATA=(SERVICE_NAME=my_db_service_name)))</code></p>
<p>This connection string does not require a "jdbc:oracle:thin:@" prefix. All characters up to and including the first at-sign (@) are removed.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHFCAG">
<td class="cellalignment16" id="d19675e3990" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.password</span></p>
</td>
<td class="cellalignment16" headers="d19675e3990 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Password for the connecting user. Oracle recommends that you do not store your password in clear text. Use an Oracle wallet instead.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCDDBD">
<td class="cellalignment16" id="d19675e4008" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.sessionTimeZone</span></p>
</td>
<td class="cellalignment16" headers="d19675e4008 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">LOCAL</code></p>
<p><span class="bold">Description</span>: Alters the session time zone for database connections. Valid values are:</p>
<ul style="list-style-type: disc;">
<li>
<p>[+|-]<span class="italic">hh</span>:<span class="italic">mm</span>: Hours and minutes before or after Coordinated Universal Time (UTC), such as <code class="codeph">-5:00</code> for Eastern Standard Time</p>
</li>
<li>
<p><code class="codeph">LOCAL</code>: The default time zone of the JVM</p>
</li>
<li>
<p><span class="italic">time_zone_region</span>: A valid JVM time zone region, such as EST (for Eastern Standard Time) or America/New_York</p>
</li>
</ul>
<p>This property also determines the default time zone for input data that is loaded into <code class="codeph">TIMESTAMP WITH TIME ZONE</code> and <code class="codeph">TIMESTAMP WITH LOCAL TIME ZONE</code> database column types.</p>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment16" id="d19675e4059" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.cluster.tns_admin</span></p>
</td>
<td class="cellalignment16" headers="d19675e4059 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined.</p>
<p><span class="bold">Description</span>: The TNS admin location on the cluster node if it is different from the client side location.</p>
<p>By default, the client-side TNS admin location is the same as the location on cluster nodes and it is specified by <a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJIJJE">oracle.hadoop.loader.connection.tns_admin</a>.</p>
<p>It is invalid to specify this property without specifying <code class="codeph">oracle.hadoop.loader.connection.tns_admin</code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJIJJE">
<td class="cellalignment16" id="d19675e4088" headers="d19675e3838">
<p id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__ORACLE.HADOOP.LOADER.CONNECTION.TNS-064C13AD"><span class="bold">oracle.hadoop.loader.connection.tns_admin</span></p>
</td>
<td class="cellalignment16" headers="d19675e4088 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: File path to a directory on each node of the Hadoop cluster, which contains SQL*Net configuration files such as <code class="codeph">sqlnet.ora</code> and <code class="codeph">tnsnames.ora</code>. Set this property so that you can use TNS entry names in database connection strings.</p>
<p>You must set this property when using an Oracle wallet as an external password store (as Oracle recommends). See <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFAFGG">oracle.hadoop.loader.connection.wallet_location</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBFJCB">
<td class="cellalignment16" id="d19675e4119" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.tnsEntryName</span></p>
</td>
<td class="cellalignment16" headers="d19675e4119 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A TNS entry name defined in the <code class="codeph">tnsnames.ora</code> file. Use this property with <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJIJJE">oracle.hadoop.loader.connection.tns_admin</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJCAAI">
<td class="cellalignment16" id="d19675e4145" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.url</span></p>
</td>
<td class="cellalignment16" headers="d19675e4145 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: The URL of the database connection. This property overrides all other connection properties.</p>
<p>If an Oracle wallet is configured as an external password store (as Oracle recommends), then the property value must start with the <code class="codeph">jdbc:oracle:thin:@</code> driver prefix, and the database connection string must exactly match the credential in the wallet. See <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFAFGG">oracle.hadoop.loader.connection.wallet_location</a></code>.</p>
<p>The following examples show valid values of connection URLs:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Oracle Net Format</span>:</p>
<div class="p">
<pre dir="ltr">
jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=
         (ADDRESS=(PROTOCOL=TCP)(HOST=myhost)(PORT=1521)))
         (CONNECT_DATA=(SERVICE_NAME=example_service_name)))
</pre></div>
</li>
<li>
<p><span class="bold">TNS Entry Format</span>:</p>
<pre dir="ltr">
jdbc:oracle:thin:@myTNSEntryName
</pre></li>
<li>
<p><span class="bold">Thin Style</span>:</p>
<pre dir="ltr">
jdbc:oracle:thin:@//myhost:1521/my_db_service_name
</pre></li>
</ul>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFIIAA">
<td class="cellalignment16" id="d19675e4198" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.user</span></p>
</td>
<td class="cellalignment16" headers="d19675e4198 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A database user name. This property requires that you also set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHFCAG">oracle.hadoop.loader.connection.password</a></code>. However, Oracle recommends that you use an Oracle wallet to store your password. Do not store it in clear text.</p>
<p>When using online database mode, you must set either this property or <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFAFGG">oracle.hadoop.loader.connection.wallet_location</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFAFGG">
<td class="cellalignment16" id="d19675e4229" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.wallet_location</span></p>
</td>
<td class="cellalignment16" headers="d19675e4229 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: File path to an Oracle wallet directory on each node of the Hadoop cluster, where the connection credentials are stored.</p>
<p>When using an Oracle wallet, you must also set the following properties:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJIJJE">oracle.hadoop.loader.connection.tns_admin</a></code></p>
</li>
<li>
<p><code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJCAAI">oracle.hadoop.loader.connection.url</a></code> <span class="italic"><span class="bold">or</span></span> <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBFJCB">oracle.hadoop.loader.connection.tnsEntryName</a></code></p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment16" id="d19675e4271" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.connection.cluster.wallet_location</span></p>
</td>
<td class="cellalignment16" headers="d19675e4271 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined.</p>
<p><span class="bold">Description</span>: The wallet location on the cluster node if it is different from the client-side location.</p>
<p>By default, the client-side wallet location is the same as the location on cluster node and it is specified by <a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFAFGG">oracle.hadoop.loader.connection.wallet_location</a>.</p>
<p>It is invalid to specify this property without specifying <code class="codeph">oracle.hadoop.loader.connection.wallet_location</code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDIICA">
<td class="cellalignment16" id="d19675e4300" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.defaultDateFormat</span></p>
</td>
<td class="cellalignment16" headers="d19675e4300 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">yyyy-MM-dd HH:mm:ss</code></p>
<p><span class="bold">Description</span>: Parses an input field into a <code class="codeph">DATE</code> column using a <code class="codeph">java.text.SimpleDateformat</code> pattern and the default locale. If the input file requires different patterns for different fields, then use the manual mapping properties. See <span class="q">"<a href="olh.htm#GUID-5AFD27AA-5196-4B6F-A832-F6E5EB349331">Manual Mapping</a>."</span></p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEJCDG">
<td class="cellalignment16" id="d19675e4330" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.enableSorting</span></p>
</td>
<td class="cellalignment16" headers="d19675e4330 d19675e3840">
<p><span class="bold">Type</span>: Boolean</p>
<p><span class="bold">Default Value</span>: <code class="codeph">true</code></p>
<p><span class="bold">Description</span>: Controls whether output records within each reducer group are sorted. Use the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHFHFD">oracle.hadoop.loader.sortKey</a></code> property to identify the columns of the target table to sort by. Otherwise, Oracle Loader for Hadoop sorts the records by the primary key.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHAEGH">
<td class="cellalignment16" id="d19675e4355" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.extTabDirectoryName</span></p>
</td>
<td class="cellalignment16" headers="d19675e4355 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">OLH_EXTTAB_DIR</code></p>
<p><span class="bold">Description</span>: The name of the database directory object for the external table <code class="codeph">LOCATION</code> data files. Oracle Loader for Hadoop does not copy data files into this directory; the file output formats generate a SQL file containing external table DDL, where the directory name appears.</p>
<p>This property applies only to <code class="codeph">DelimitedTextOutputFormat</code> and <code class="codeph">DataPumpOutputFormat</code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJGDEA">
<td class="cellalignment16" id="d19675e4386" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.fieldNames</span></p>
</td>
<td class="cellalignment16" headers="d19675e4386 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">F0,F1,F2,...</code></p>
<p><span class="bold">Description</span>: A comma-delimited list of names for the input fields.</p>
<p>For the built-in input formats, specify names for all fields in the data, not just the fields of interest. If an input line has more fields than this property has field names, then the extra fields are discarded. If a line has fewer fields than this property has field names, then the extra fields are set to null. See <span class="q">"<a href="olh.htm#GUID-3C845932-1F8C-4ECC-AD87-B71E8344D5BF">Mapping Input Fields to Target Table Columns</a>"</span> for loading only selected fields.</p>
<p>The names are used to create the Avro schema for the record, so they must be valid JSON name strings.</p>
<p>This property applies to <code class="codeph">DelimitedTextInputFormat</code> and <code class="codeph">RegexInputFormat</code> only.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABGHBEJ">
<td class="cellalignment16" id="d19675e4422" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.fieldTerminator</span></p>
</td>
<td class="cellalignment16" headers="d19675e4422 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">,</code> (comma)</p>
<p><span class="bold">Description</span>: A character that indicates the end of an input field for <a id="d19675e4442" class="indexterm-anchor"></a><code class="codeph">DelimitedTextInputFormat</code>. The value can be either a single character or <code class="codeph">\u</code><span class="italic"><code class="codeph">HHHH</code></span>, where <span class="italic"><code class="codeph">HHHH</code></span> is the character's UTF-16 encoding.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIDDJI">
<td class="cellalignment16" id="d19675e4458" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.hive.databaseName</span></p>
</td>
<td class="cellalignment16" headers="d19675e4458 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: The name of the Hive database where the input table is stored</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__CBHJFFAI">
<td class="cellalignment16" id="d19675e4476" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.hive.partitionFilter</span></p>
<div class="infobox-note" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-D3BA4E65-749C-4314-9490-FC8C15D5BD1C">
<p class="notep1">Note:</p>
This property is deprecated. Use <code class="codeph">oracle.hadoop.loader.input.hive.rowFilter</code> instead.</div>
</td>
<td class="cellalignment16" headers="d19675e4476 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A valid HiveQL expression that is used to filter the source Hive table partitions for <code class="codeph">HiveToAvroInputFormat</code>. The expression must contain <span class="italic">only</span> partition columns. Including other columns does not raise an error, but unintended consequences can result. Oracle recommends that you not include other columns. If the value is not set, then Oracle Loader for Hadoop loads the data from all partitions of the source Hive table. This property is ignored if the table is not partitioned. It is also ignored if <code class="codeph">oracle.hadoop.loader.input.hive.rowFilter</code> is set.</p>
<p>The expression must conform to the following restrictions:</p>
<ul style="list-style-type: disc;">
<li>
<p>Selects partitions and not individual records inside the partitions.</p>
</li>
<li>
<p>Does not include columns that are not used to partition the table, because they might cause unintended consequences.</p>
</li>
<li>
<p>Does not include subqueries.</p>
</li>
<li>
<p>Does not include user-defined functions (UDFs), which are not supported; built-in functions are supported.</p>
</li>
<li>
<p>Resolves all variable expansions at the Hadoop level. Hive variable name spaces (such as <code class="codeph">env:</code>, <code class="codeph">system:</code>, <code class="codeph">hiveconf:</code>, and <code class="codeph">hivevar:</code>) have no meaning. Oracle Loader for Hadoop sets <code class="codeph">hive.variable.substitute</code> to <code class="codeph">false</code>, which disables Hive variable expansion. You can choose between these expansion methods:</p>
<p><span class="bold">Expand all variables before setting this property</span>: In the Hive CLI, use the following commands:</p>
<div class="p">
<pre dir="ltr">
CREATE VIEW <span class="italic">view_name</span> AS SELECT * from <span class="italic">database.table_name</span> WHERE <span class="italic">expression</span>;
DESCRIBE FORMATTED <span class="italic">view_name</span>;
</pre></div>
<p>The View Original Text field contains the query with all variables expanded. Copy the <code class="codeph">where</code> clause, starting after <code class="codeph">where</code>.</p>
<p><span class="bold">Define all variables in Oracle Loader for Hadoop</span>: In the <code class="codeph">hadoop</code> command to run Oracle Loader for Hadoop, use the generic options (<code class="codeph">-D</code> and <code class="codeph">-conf</code>).</p>
</li>
</ul>
<p>You can use the Hive CLI to test the expression and ensure that it returns the expected results.</p>
<p>The following examples assume a source table defined with this command:</p>
<div class="p">
<pre dir="ltr">
CREATE TABLE t(c string)
   PARTITIONED BY (p1 string, p2 int, p3 boolean, p4 string, p5 timestamp);
</pre></div>
<p><span class="bold">Example 1: Nested Expressions</span></p>
<div class="p">
<pre dir="ltr">
p1 like 'abc%' or (p5 &gt;= '2010-06-20' and p5 &lt;= '2010-07-03')
</pre></div>
<p><span class="bold">Example 2: Built-in Functions</span></p>
<div class="p">
<pre dir="ltr">
year(p5) = 2014
</pre></div>
<p><span class="bold">Example 3: Bad Usage: Columns That Are Not Used to Partition the Table</span></p>
<p>These examples show that using c, a column that is not used to partition the table, is unnecessary and can cause unexpected results.</p>
<p>This example is equivalent to <code class="codeph">p2 &gt; 35</code>:</p>
<pre dir="ltr">
p2 &gt; 35 and c like 'abc%'
</pre>
<p>This example loads all partitions. All partitions could contain <code class="codeph">c like 'abc%</code>, so partitions are filtered out:</p>
<pre dir="ltr">
p2 &gt; 35 or c like 'abc%'
</pre></td>
</tr>
<tr class="cellalignment2">
<td class="cellalignment16" id="d19675e4624" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.hive.rowFilter</span></p>
</td>
<td class="cellalignment16" headers="d19675e4624 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A valid HiveQL expression that is used to filter the rows of the source Hive table for HiveToAvroInputFormat. If this value is not set (default), Oracle Loader for Hadoop attempts to use the value of oracle.hadoop.loader.input.hive.partitionFilter (provided the table is partitioned). Otherwise, Oracle Loader for Hadoop loads the entire source hive table.</p>
<p>The expression must conform to the following restrictions:</p>
<ul style="list-style-type: disc;">
<li>
<p>Does not include subqueries.</p>
</li>
<li>
<p>Does not include user-defined functions (UDFs), which are not supported; built-in functions are supported.</p>
</li>
<li>
<p>Resolves all variable expansions at the Hadoop level. Hive variable name spaces (such as env:, system:, hiveconf:, and hivevar:) have no meaning. Oracle Loader for Hadoop sets hive.variable.substitute to false, which disables Hive variable expansion. You can choose between these expansion methods:</p>
<ul style="list-style-type: disc;">
<li>
<p><span class="bold">Expand all variables before setting this property</span>: In the Hive CLI, use the following commands:</p>
<div class="p">
<pre dir="ltr">
CREATE VIEW <span class="italic">view_name</span> AS SELECT * from <span class="italic">database.table_name</span> WHERE <span class="italic">expression</span>;
DESCRIBE FORMATTED <span class="italic">view_name</span>;
</pre></div>
<p>The View Original Text field contains the query with all variables expanded. Copy the expression within the WHERE clause. (Do not include the WHERE keyword itself.)</p>
</li>
<li>
<p><span class="bold">Define all variables in Oracle Loader for Hadoop.</span> In the Hadoop command to run Oracle Loader for Hadoop, use the generic options (<code class="codeph">-D</code>and <code class="codeph">-conf</code>).</p>
</li>
</ul>
</li>
</ul>
<p>In both cases you can use the Hive CLI to test the expression and ensure that it returns the expected results. The following examples assume a source table defined with this command:</p>
<div class="p">
<pre dir="ltr">
CREATE TABLE t(c string)
   PARTITIONED BY (p1 string, p2 int, p3 boolean, p4 string, p5 timestamp);
</pre></div>
<p>Example #1: nested expressions</p>
<div class="p">
<pre dir="ltr">
c like 'abc%' and (p5 &lt;= '2010-06-20' and p5 &lt;= '2010-07-03')
</pre></div>
<p>Example #2: built-in functions</p>
<div class="p">
<pre dir="ltr">
year(p5) = 2013)
</pre></div>
<p>Oracle recommends that you turn on <code class="codeph">hive.optimize.index.filter</code> when importing a subset of rows from a native Hive table (a table that is not managed by a storage handler). This is known to help input formats such as ORC and PARQUET, however there are several caveats:</p>
<ul style="list-style-type: disc;">
<li>
<p>The property must be set with a <code class="codeph">-D</code> (using <code class="codeph">-conf</code> will not work). Alternatively, the property can be set in hive-site.xml.</p>
</li>
<li>
<p>This does not work for ORC tables in Hive 0.12.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDCDDF">
<td class="cellalignment16" id="d19675e4722" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.hive.tableName</span></p>
</td>
<td class="cellalignment16" headers="d19675e4722 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: The name of the Hive table where the input data is stored.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFCCAE">
<td class="cellalignment16" id="d19675e4741" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.initialFieldEncloser</span></p>
</td>
<td class="cellalignment16" headers="d19675e4741 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A character that indicates the beginning of a field. The value can be either a single character or <code class="codeph">\u</code><span class="italic"><code class="codeph">HHHH</code></span>, where <span class="italic"><code class="codeph">HHHH</code></span> is the character's UTF-16 encoding. To restore the default setting (no encloser), enter a zero-length value. A field encloser cannot equal the terminator or white-space character defined for the input format.</p>
<p>When this property is set, the parser attempts to read each field as an enclosed token (value) before reading it as an unenclosed token. If the field enclosers are not set, then the parser reads each field as an unenclosed token.</p>
<p>If you set this property but not <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCCEIB">oracle.hadoop.loader.input.trailingFieldEncloser</a></code>, then the same value is used for both properties.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJFIAC">
<td class="cellalignment16" id="d19675e4778" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.regexCaseInsensitive</span></p>
</td>
<td class="cellalignment16" headers="d19675e4778 d19675e3840">
<p><span class="bold">Type</span>: Boolean</p>
<p><span class="bold">Default Value</span>: <code class="codeph">false</code></p>
<p><span class="bold">Description</span>: Controls whether pattern matching is case-sensitive. Set to <code class="codeph">true</code> to ignore case, so that "string" matches "String", "STRING", "string", "StRiNg", and so forth. By default, "string" matches only "string".</p>
<p>This property is the same as the<code class="codeph">input.regex.case.insensitive</code> property of <code class="codeph">org.apache.hadoop.hive.contrib.serde2.RegexSerDe</code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBBIFB">
<td class="cellalignment16" id="d19675e4809" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.regexPattern</span></p>
</td>
<td class="cellalignment16" headers="d19675e4809 d19675e3840">
<p><span class="bold">Type</span>: Text</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: The pattern string for a regular expression.</p>
<p>The regular expression must match each text line in its entirety. For example, a correct regex pattern for input line <code class="codeph">"a,b,c,"</code> is <code class="codeph">"([^,]*),([^,]*),([^,]*),"</code>. However, <code class="codeph">"([^,]*),"</code> is invalid, because the expression is <span class="italic">not</span> applied repeatedly to a line of input text.</p>
<p><code class="codeph">RegexInputFormat</code> uses the capturing groups of regular expression matching as fields. The special group zero is ignored because it stands for the entire input line.</p>
<p>This property is the same as the <code class="codeph">input.regex</code> property of <code class="codeph">org.apache.hadoop.hive.contrib.serde2.RegexSerDe</code>.</p>
<div class="infoboxnotealso" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-8668EF99-9A2A-47D0-A663-0DC33AB8B185">
<p class="notep1">See Also:</p>
<p>For descriptions of regular expressions and capturing groups, the entry for <code class="codeph">java.util.regex</code> in the <span class="italic">Java Platform Standard Edition 6 API Specification</span> at</p>
<p><a href="http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html" target="_blank"><code class="codeph">http://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html</code></a></p>
</div>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCCEIB">
<td class="cellalignment16" id="d19675e4867" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.input.trailingFieldEncloser</span></p>
</td>
<td class="cellalignment16" headers="d19675e4867 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: The value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFCCAE">oracle.hadoop.loader.input.initialFieldEncloser</a></code></p>
<p><span class="bold">Description</span>: Identifies a character that marks the end of a field. The value can be either a single character or <code class="codeph">\u</code><span class="italic"><code class="codeph">HHHH</code></span>, where <span class="italic"><code class="codeph">HHHH</code></span> is the character's UTF-16 encoding. For no trailing encloser, enter a zero-length value.</p>
<p>A field encloser cannot be the terminator or a white-space character defined for the input format.</p>
<p>If the trailing field encloser character is embedded in an input field, then the character must be doubled up to be parsed as literal text. For example, an input field must have <code class="codeph">''</code> (two single quotes) to load <code class="codeph">'</code> (one single quote).</p>
<p>If you set this property, then you must also set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFCCAE">oracle.hadoop.loader.input.initialFieldEncloser</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCCBIC">
<td class="cellalignment16" id="d19675e4916" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.loadByPartition</span></p>
</td>
<td class="cellalignment16" headers="d19675e4916 d19675e3840">
<p><span class="bold">Type</span>: Boolean</p>
<p><span class="bold">Default Value</span>: <code class="codeph">true</code></p>
<p><span class="bold">Description</span>: Specifies a partition-aware load. Oracle Loader for Hadoop organizes the output by partition for all output formats on the Hadoop cluster; this task does not impact the resources of the database system.</p>
<p><code class="codeph">DelimitedTextOutputFormat</code> and <code class="codeph">DataPumpOutputFormat</code> generate multiple files, and each file contains the records from one partition. For <code class="codeph">DelimitedTextOutputFormat</code>, this property also controls whether the <code class="codeph">PARTITION</code> keyword appears in the generated control files for SQL*Loader.</p>
<p><code class="codeph">OCIOutputFormat</code> requires partitioned tables. If you set this property to <code class="codeph">false</code>, then <code class="codeph">OCIOutputFormat</code> turns it back on. For the other output formats, you can set <code class="codeph">loadByPartition</code> to <code class="codeph">false</code>, so that Oracle Loader for Hadoop handles a partitioned table as if it were nonpartitioned.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCFFGI">
<td class="cellalignment16" id="d19675e4965" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.loaderMap.columnNames</span></p>
</td>
<td class="cellalignment16" headers="d19675e4965 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A comma-separated list of column names in the target table, in any order. The names can be quoted or unquoted. Quoted names begin and end with double quotes (") and are used exactly as entered. Unquoted names are converted to upper case.</p>
<p>You must set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBCHBA">oracle.hadoop.loader.loaderMap.targetTable</a></code>, or this property is ignored. You can optionally set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFIACH">oracle.hadoop.loader.loaderMap.column_name.field</a></code> and <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCEC">oracle.hadoop.loader.loaderMap.column_name.format</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFIACH">
<td class="cellalignment16" id="d19675e5000" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.loaderMap.<span class="italic">column_name</span>.field</span></p>
</td>
<td class="cellalignment16" headers="d19675e5000 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Normalized column name</p>
<p><span class="bold">Description</span>: The name of a field that contains Avro records, which is mapped to the column identified in the property name. The column name can be quoted or unquoted. A quoted name begins and ends with double quotes (") and is used exactly as entered. An unquoted name is converted to upper case. Optional.</p>
<p>You must set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCFFGI">oracle.hadoop.loader.loaderMap.columnNames</a></code>, or this property is ignored.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCEC">
<td class="cellalignment16" id="d19675e5028" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.loaderMap.<span class="italic">column_name</span>.format</span></p>
</td>
<td class="cellalignment16" headers="d19675e5028 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Specifies the data format of the data being loaded into the column identified in the property name. Use a <code class="codeph">java.text.SimpleDateformat</code> pattern for a date format or regular expression patterns for text. Optional.</p>
<p>You must set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCFFGI">oracle.hadoop.loader.loaderMap.columnNames</a></code>, or this property is ignored.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBCHBA">
<td class="cellalignment16" id="d19675e5059" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.loaderMap.targetTable</span></p>
</td>
<td class="cellalignment16" headers="d19675e5059 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A schema-qualified name for the table to be loaded. This property takes precedence over <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABGEHCC">oracle.hadoop.loader.loaderMapFile</a></code>.</p>
<p>To load a subset of columns, set the <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCFFGI">oracle.hadoop.loader.loaderMap.columnNames</a></code> property. With <code class="codeph">columnNames</code>, you can optionally set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFIACH">oracle.hadoop.loader.loaderMap.column_name.field</a></code> to specify the names of the fields that are mapped to the columns, and <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCEC">oracle.hadoop.loader.loaderMap.column_name.format</a></code> to specify the format of the data in those fields. If all the columns of a table will be loaded, and the input field names match the database column names, then you do not need to set <code class="codeph">columnNames</code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABGEHCC">
<td class="cellalignment16" id="d19675e5105" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.loaderMapFile</span></p>
</td>
<td class="cellalignment16" headers="d19675e5105 d19675e3840">
<p>Loader maps are deprecated starting with Release 2.3. The <code class="codeph">oracle.hadoop.loader.loaderMap.*</code> configuration properties replace loader map files. See <span class="q">"<a href="olh.htm#GUID-5AFD27AA-5196-4B6F-A832-F6E5EB349331">Manual Mapping</a>."</span></p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEIJEB">
<td class="cellalignment16" id="d19675e5120" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.logBadRecords</span></p>
</td>
<td class="cellalignment16" headers="d19675e5120 d19675e3840">
<p><span class="bold">Type</span>: Boolean</p>
<p><span class="bold">Default Value</span>: <code class="codeph">false</code></p>
<p><span class="bold">Description</span>: Controls whether Oracle Loader for Hadoop logs bad records to a file.</p>
<p>This property applies only to records rejected by input formats and mappers. It does not apply to errors encountered by the output formats or by the sampling feature.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-F5729F8C-94E0-46DA-9CA6-379238BA4E47">
<td class="cellalignment16" id="d19675e5143" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.log4j.propertyPrefix</span></p>
</td>
<td class="cellalignment16" headers="d19675e5143 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">log4j.logger.oracle.hadoop.loader</code></p>
<p><span class="bold">Description</span>: Identifies the prefix used in Apache <code class="codeph">log4j</code> properties loaded from its configuration file.</p>
<p>Oracle Loader for Hadoop enables you to specify <code class="codeph">log4j</code> properties in the <code class="codeph">hadoop</code> command using the <code class="codeph">-conf</code> and <code class="codeph">-D</code> options. For example:</p>
<div class="p">
<pre dir="ltr">
-D log4j.logger.oracle.hadoop.loader.OraLoader=DEBUG
-D log4j.logger.oracle.hadoop.loader.metadata=INFO
</pre></div>
<p>All configuration properties starting with this prefix are loaded into <code class="codeph">log4j</code>. They override the settings for the same properties that <code class="codeph">log4j</code> loaded from <code class="codeph">${log4j.configuration}</code>. The overrides apply to the Oracle Loader for Hadoop job driver, and its map and reduce tasks.</p>
<p>The configuration properties are copied to <code class="codeph">log4j</code> with <code class="codeph">RAW</code> values; any variable expansion is done for <code class="codeph">log4j</code>. Any configuration variables to be used in the expansion must also start with this prefix.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-9E567D48-B8D2-436B-BA42-C682E4288CAE">
<td class="cellalignment16" id="d19675e5205" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.olh_home</span></p>
</td>
<td class="cellalignment16" headers="d19675e5205 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Value of the <code class="codeph">OLH_HOME</code> environment variable</p>
<p><span class="bold">Description</span>: The path of the Oracle Loader for Hadoop home directory on the node where you start the OraLoader job. This path identifies the location of the required libraries.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-15624737-AB5A-4261-81EB-61EBA4C51B14">
<td class="cellalignment16" id="d19675e5226" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.olhcachePath</span></p>
</td>
<td class="cellalignment16" headers="d19675e5226 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">${mapreduce.output.fileoutputformat.outputdir}/../olhcache</code></p>
<p><span class="bold">Description</span>: Identifies the full path to an HDFS directory where Oracle Loader for Hadoop can create files that are loaded into the MapReduce distributed cache.</p>
<p>The distributed cache is a facility for caching large, application-specific files and distributing them efficiently across the nodes in a cluster.</p>
<div class="infoboxnotealso" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-9C604757-A5A2-4F4D-A636-1A50B023D8AD">
<p class="notep1">See Also:</p>
<p>The description of <code class="codeph">org.apache.hadoop.filecache.DistributedCache</code> in the Java documentation at</p>
<p><a href="http://hadoop.apache.org/" target="_blank"><code class="codeph">http://hadoop.apache.org/</code></a></p>
</div>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDFIID">
<td class="cellalignment16" id="d19675e5259" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.output.dirpathBufsize</span></p>
</td>
<td class="cellalignment16" headers="d19675e5259 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">131072</code> (128 KB)</p>
<p><span class="bold">Description</span>: Sets the size in bytes of the direct path stream buffer for <code class="codeph">OCIOutputFormat</code>. Values are rounded up to the next multiple of 8 KB.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFHGDC">
<td class="cellalignment16" id="d19675e5283" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.output.escapeEnclosers</span></p>
</td>
<td class="cellalignment16" headers="d19675e5283 d19675e3840">
<p><span class="bold">Type</span>: Boolean</p>
<p><span class="bold">Default Value</span>: <code class="codeph">false</code></p>
<p><span class="bold">Description</span>: Controls whether the embedded trailing encloser character is handled as literal text (that is, escaped). Set this property to <code class="codeph">true</code> when a field may contain the trailing enclosure character as part of the data value. See <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJAIBI">oracle.hadoop.loader.output.trailingFieldEncloser</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCHD">
<td class="cellalignment16" id="d19675e5311" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.output.fieldTerminator</span></p>
</td>
<td class="cellalignment16" headers="d19675e5311 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: <code class="codeph">,</code> (comma)</p>
<p><span class="bold">Description</span>: A character that indicates the end of an output field for <code class="codeph">DelimitedTextInputFormat</code>. The value can be either a single character or <code class="codeph">\u</code><span class="italic"><code class="codeph">HHHH</code></span>, where <span class="italic"><code class="codeph">HHHH</code></span> is the character's UTF-16 encoding.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFGGAC">
<td class="cellalignment16" id="d19675e5345" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.output.granuleSize</span></p>
</td>
<td class="cellalignment16" headers="d19675e5345 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">10240000</code></p>
<p><span class="bold">Description</span>: The granule size in bytes for generated Data Pump files.</p>
<p>A granule determines the work load for a parallel process (PQ slave) when loading a file through the <code class="codeph">ORACLE_DATAPUMP</code> access driver.</p>
<div class="infoboxnotealso" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-D0561432-72E3-4C2B-80F8-6CD693E575DB">
<p class="notep1">See Also:</p>
<p><a class="olink SUTIL500" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E87334-01&amp;id=SUTIL500"><span class="italic">Oracle Database Utilities</span></a> for more information about the <code class="codeph">ORACLE_DATAPUMP</code> access driver.</p>
</div>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBFBGJ">
<td class="cellalignment16" id="d19675e5381" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.output.initialFieldEncloser</span></p>
</td>
<td class="cellalignment16" headers="d19675e5381 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A character generated in the output to identify the beginning of a field. The value must be either a single character or <code class="codeph">\u</code><span class="italic"><code class="codeph">HHHH</code></span>, where <span class="italic"><code class="codeph">HHHH</code></span> is the character's UTF-16 encoding. A zero-length value means that no enclosers are generated in the output (default value).</p>
<p>Use this property when a field may contain the value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCHD">oracle.hadoop.loader.output.fieldTerminator</a></code>. If a field may also contain the value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJAIBI">oracle.hadoop.loader.output.trailingFieldEncloser</a></code>, then set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFHGDC">oracle.hadoop.loader.output.escapeEnclosers</a></code> to <code class="codeph">true</code>.</p>
<p>If you set this property, then you must also set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJAIBI">oracle.hadoop.loader.output.trailingFieldEncloser</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJAIBI">
<td class="cellalignment16" id="d19675e5436" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.output.trailingFieldEncloser</span></p>
</td>
<td class="cellalignment16" headers="d19675e5436 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBFBGJ">oracle.hadoop.loader.output.initialFieldEncloser</a></code></p>
<p><span class="bold">Description</span>: A character generated in the output to identify the end of a field. The value must be either a single character or <code class="codeph">\u</code><span class="italic"><code class="codeph">HHHH</code></span>, where <span class="italic"><code class="codeph">HHHH</code></span> is the character's UTF-16 encoding. A zero-length value means that there are no enclosers (default value).</p>
<p>Use this property when a field may contain the value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIHCHD">oracle.hadoop.loader.output.fieldTerminator</a></code>. If a field may also contain the value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJAIBI">oracle.hadoop.loader.output.trailingFieldEncloser</a></code>, then set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFHGDC">oracle.hadoop.loader.output.escapeEnclosers</a></code> to <code class="codeph">true</code>.</p>
<p>If you set this property, then you must also set <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBFBGJ">oracle.hadoop.loader.output.initialFieldEncloser</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIGABJ">
<td class="cellalignment16" id="d19675e5495" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.rejectLimit</span></p>
</td>
<td class="cellalignment16" headers="d19675e5495 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">1000</code></p>
<p><span class="bold">Description</span>: The maximum number of rejected or skipped records allowed before the job stops running. A negative value turns off the reject limit and allows the job to run to completion.</p>
<p>If <code class="codeph">mapreduce.map.speculative</code> is <code class="codeph">true</code> (the default), then the number of rejected records may be inflated temporarily, causing the job to stop prematurely.</p>
<p>Input format errors do not count toward the reject limit because they are irrecoverable and cause the map task to stop. Errors encountered by the sampling feature or the online output formats do not count toward the reject limit either.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJDJIG">
<td class="cellalignment16" id="d19675e5525" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.enableSampling</span></p>
</td>
<td class="cellalignment16" headers="d19675e5525 d19675e3840">
<p><span class="bold">Type</span>: Boolean</p>
<p><span class="bold">Default Value</span>: <code class="codeph">true</code></p>
<p><span class="bold">Description</span>: Controls whether the sampling feature is enabled. Set this property to <code class="codeph">false</code> to disable sampling.</p>
<p>Even when <code class="codeph">enableSampling</code> is set to <code class="codeph">true</code>, the loader automatically disables sampling if it is unnecessary, or if the loader determines that a good sample cannot be made. For example, the loader disables sampling if the table is not partitioned, the number of reducer tasks is less than two, or there is too little input data to compute a good load balance. In these cases, the loader returns an informational message.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJFBIJ">
<td class="cellalignment16" id="d19675e5557" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.hintMaxSplitSize</span></p>
</td>
<td class="cellalignment16" headers="d19675e5557 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">1048576</code> (1 MB)</p>
<p><span class="bold">Description</span>: Sets the Hadoop <code class="codeph">mapred.max.split.size</code> property for the sampling process; the value of <code class="codeph">mapred.max.split.size</code> does not change for the job configuration. A value less than <code class="codeph">1</code> is ignored.</p>
<p>Some input formats (such as <code class="codeph">FileInputFormat</code>) use this property as a hint to determine the number of splits returned by <code class="codeph">getSplits</code>. Smaller values imply that more chunks of data are sampled at random, which results in a better sample.</p>
<p>Increase this value for data sets with tens of terabytes of data, or if the input format <code class="codeph">getSplits</code> method throws an out-of-memory error.</p>
<p>Although large splits are better for I/O performance, they are not necessarily better for sampling. Set this value small enough for good sampling performance, but no smaller. Extremely small values can cause inefficient I/O performance, and can cause <code class="codeph">getSplits</code> to run out of memory by returning too many splits.</p>
<p>The <code class="codeph">org.apache.hadoop.mapreduce.lib.input.FileInputFormat</code> method always returns splits at least as large as the minimum split size setting, regardless of the value of this property.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABDHECB">
<td class="cellalignment16" id="d19675e5610" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.hintNumMapTasks</span></p>
</td>
<td class="cellalignment16" headers="d19675e5610 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">100</code></p>
<p><span class="bold">Description</span>: Sets the value of the Hadoop <code class="codeph">mapred.map.tasks</code> configuration property for the sampling process; the value of <code class="codeph">mapred.map.tasks</code> does not change for the job configuration. A value less than <code class="codeph">1</code> is ignored.</p>
<p>Some input formats (such as <code class="codeph">DBInputFormat</code>) use this property as a hint to determine the number of splits returned by the <code class="codeph">getSplits</code> method. Higher values imply that more chunks of data are sampled at random, which results in a better sample.</p>
<p>Increase this value for data sets with more than a million rows, but remember that extremely large values can cause <code class="codeph">getSplits</code> to run out of memory by returning too many splits.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCDJDF">
<td class="cellalignment16" id="d19675e5652" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.loadCI</span></p>
</td>
<td class="cellalignment16" headers="d19675e5652 d19675e3840">
<p><span class="bold">Type</span>: Decimal</p>
<p><span class="bold">Default Value</span>: <code class="codeph">0.95</code></p>
<p><span class="bold">Description</span>: The statistical confidence indicator for the maximum reducer load factor.</p>
<p>This property accepts values greater than or equal to <code class="codeph">0.5</code> and less than <code class="codeph">1</code> (<code class="codeph">0.5 &lt;=</code> <span class="italic">value</span> <code class="codeph">&lt; 1</code>). A value less than <code class="codeph">0.5</code> resets the property to the default value. Typical values are <code class="codeph">0.90</code>, <code class="codeph">0.95</code>, and <code class="codeph">0.99</code>.</p>
<p>See <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHIGDE">oracle.hadoop.loader.sampler.maxLoadFactor</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIEJEG">
<td class="cellalignment16" id="d19675e5709" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.maxHeapBytes</span></p>
</td>
<td class="cellalignment16" headers="d19675e5709 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">-1</code></p>
<p><span class="bold">Description</span>: Specifies in bytes the maximum amount of memory available to the sampler.</p>
<p>Sampling stops when one of these conditions is true:</p>
<ul style="list-style-type: disc;">
<li>
<p>The sampler has collected the minimum number of samples required for load balancing.</p>
</li>
<li>
<p>The percent of sampled data exceeds <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIFIFB">oracle.hadoop.loader.sampler.maxSamplesPct</a></code>.</p>
</li>
<li>
<p>The number of sampled bytes exceeds <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIEJEG">oracle.hadoop.loader.sampler.maxHeapBytes</a></code>. This condition is not imposed when the property is set to a negative value.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHIGDE">
<td class="cellalignment16" id="d19675e5751" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.maxLoadFactor</span></p>
</td>
<td class="cellalignment16" headers="d19675e5751 d19675e3840">
<p><span class="bold">Type</span>: Float</p>
<p><span class="bold">Default Value</span>: <code class="codeph">0.05</code> (5%)</p>
<p><span class="bold">Description</span>: The maximum acceptable load factor for a reducer. A value of <code class="codeph">0.05</code> indicates that reducers can be assigned up to 5% more data than their ideal load.</p>
<p>This property accepts values greater than <code class="codeph">0</code>. A value less than or equal to 0 resets the property to the default value. Typical values are <code class="codeph">0.05</code> and <code class="codeph">0.1</code>.</p>
<p>In a perfectly balanced load, every reducer is assigned an equal amount of work (or load). The load factor is the relative overload for each reducer, calculated as (<span class="italic">assigned_load</span> - <span class="italic">ideal_load</span>)/<span class="italic">ideal_load</span>. If load balancing is successful, the job runs within the maximum load factor at the specified confidence.</p>
<p>See <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCDJDF">oracle.hadoop.loader.sampler.loadCI</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIFIFB">
<td class="cellalignment16" id="d19675e5804" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.maxSamplesPct</span></p>
</td>
<td class="cellalignment16" headers="d19675e5804 d19675e3840">
<p><span class="bold">Type</span>: Float</p>
<p><span class="bold">Default Value</span>: <code class="codeph">0.01</code> (1%)</p>
<p><span class="bold">Description</span>: Sets the maximum sample size as a fraction of the number of records in the input data. A value of <code class="codeph">0.05</code> indicates that the sampler never samples more than 5% of the total number of records.</p>
<p>This property accepts a range of 0 to 1 (0% to 100%). A negative value disables it.</p>
<p>Sampling stops when one of these conditions is true:</p>
<ul style="list-style-type: disc;">
<li>
<p>The sampler has collected the minimum number of samples required for load balancing, which can be fewer than the number set by this property.</p>
</li>
<li>
<p>The percent of sampled data exceeds <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIFIFB">oracle.hadoop.loader.sampler.maxSamplesPct</a></code>.</p>
</li>
<li>
<p>The number of sampled bytes exceeds <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABIEJEG">oracle.hadoop.loader.sampler.maxHeapBytes</a></code>. This condition is not imposed when the property is set to a negative value.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCJBAB">
<td class="cellalignment16" id="d19675e5852" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.minSplits</span></p>
</td>
<td class="cellalignment16" headers="d19675e5852 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">5</code></p>
<p><span class="bold">Description</span>: The minimum number of input splits that the sampler reads from before it makes any evaluation of the stopping condition. If the total number of input splits is less than <code class="codeph">minSplits</code>, then the sampler reads from all the input splits.</p>
<p>A number less than or equal to <code class="codeph">0</code> is the same as a value of <code class="codeph">1</code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEDJDC">
<td class="cellalignment16" id="d19675e5883" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sampler.numThreads</span></p>
</td>
<td class="cellalignment16" headers="d19675e5883 d19675e3840">
<p><span class="bold">Type</span>: Integer</p>
<p><span class="bold">Default Value</span>: <code class="codeph">5</code></p>
<p><span class="bold">Description</span>: The number of sampler threads. A higher number of threads allows higher concurrency in sampling. A value of <code class="codeph">1</code> disables multithreading for the sampler.</p>
<p>Set the value based on the processor and memory resources available on the node where you start the Oracle Loader for Hadoop job.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHFHFD">
<td class="cellalignment16" id="d19675e5908" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.sortKey</span></p>
</td>
<td class="cellalignment16" headers="d19675e5908 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: A comma-delimited list of column names that forms a key for sorting output records within a reducer group.</p>
<p>The column names can be quoted or unquoted identifiers:</p>
<ul style="list-style-type: disc;">
<li>
<p>A quoted identifier begins and ends with double quotation marks (<code class="codeph">"</code>).</p>
</li>
<li>
<p>An unquoted identifier is converted to uppercase before use.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABFGBIF">
<td class="cellalignment16" id="d19675e5938" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.tableMetadataFile</span></p>
</td>
<td class="cellalignment16" headers="d19675e5938 d19675e3840">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Path to the target table metadata file. Set this property when running in offline database mode.</p>
<p>Use the <code class="codeph">file://</code> syntax to specify a local file, for example:</p>
<pre dir="ltr">
file:///home/jdoe/metadata.xml
</pre>
<p>To create the table metadata file, run the <code class="codeph">OraLoaderMetadata</code> utility. See <span class="q">"<a href="olh.htm#GUID-88957DE7-446F-40DF-88D5-8D51C0059D91">OraLoaderMetadata Utility</a>."</span></p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABJIBCB">
<td class="cellalignment16" id="d19675e5972" headers="d19675e3838">
<p><span class="bold">oracle.hadoop.loader.targetTable</span></p>
</td>
<td class="cellalignment16" headers="d19675e5972 d19675e3840">
<p>Deprecated. Use <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBCHBA">oracle.hadoop.loader.loaderMap.targetTable</a></code>.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" -->
<div class="section" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABCIHEG">
<p class="subhead2">Oracle NoSQL Database Configuration Properties</p>
<div class="tblformalwide" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-C41A819B-47AC-480D-BBC0-DAF6E0CA3368">
<table class="cellalignment23" summary="Describes Oracle NoSQL Database configuration properties.">
<thead>
<tr class="cellalignment2">
<th class="cellalignment40" id="d19675e5995">Property</th>
<th class="cellalignment40" id="d19675e5997">Description</th>
</tr>
</thead>
<tbody>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABHEHGB">
<td class="cellalignment2" id="d19675e6001" headers="d19675e5995">
<p><span class="bold">oracle.kv.kvstore</span></p>
</td>
<td class="cellalignment2" headers="d19675e6001 d19675e5997">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: The name of the KV store with the source data.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABBEEII">
<td class="cellalignment2" id="d19675e6019" headers="d19675e5995">
<p><span class="bold">oracle.kv.hosts</span></p>
</td>
<td class="cellalignment2" headers="d19675e6019 d19675e5997">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: An array of one or more <span class="italic">hostname</span>:<span class="italic">port</span> pairs that identify the hosts in the KV store with the source data. Separate multiple pairs with commas.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-74705349-E6CC-4C3B-B43C-79CF391B27C8">
<td class="cellalignment2" id="d19675e6043" headers="d19675e5995">
<p><span class="bold">oracle.kv.batchSize</span></p>
</td>
<td class="cellalignment2" headers="d19675e6043 d19675e5997">
<p><span class="bold">Type</span>: Key</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: The desired number of keys for <code class="codeph">KVAvroInputFormat</code>to fetch during each network round trip. A value of zero (0) sets the property to a default value.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEFCBE">
<td class="cellalignment2" id="d19675e6064" headers="d19675e5995">
<p><span class="bold">oracle.kv.parentKey</span></p>
</td>
<td class="cellalignment2" headers="d19675e6064 d19675e5997">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Restricts the returned values to only the child key-value pairs of the specified key. A major key path must be a partial path, and a minor key path must be empty. A null value (the default) does not restrict the output, and so <code class="codeph">KVAvroInputFormat</code> returns all keys in the store.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-06A22449-3F68-4DD0-97E2-2BBC81B4249A">
<td class="cellalignment2" id="d19675e6085" headers="d19675e5995">
<p><span class="bold">oracle.kv.subRange</span></p>
</td>
<td class="cellalignment2" headers="d19675e6085 d19675e5997">
<p><span class="bold">Type</span>: KeyRange</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Further restricts the returned values to a particular child under the parent key specified by <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEFCBE">oracle.kv.parentKey</a></code>.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-166F75B4-D8C2-458B-9B1C-161A732250F6">
<td class="cellalignment2" id="d19675e6108" headers="d19675e5995">
<p><span class="bold">oracle.kv.depth</span></p>
</td>
<td class="cellalignment2" headers="d19675e6108 d19675e5997">
<p><span class="bold">Type</span>: Depth</p>
<p><span class="bold">Default Value</span>: <code class="codeph">PARENT_AND_DESCENDENTS</code></p>
<p><span class="bold">Description</span>: Restricts the returned values to a particular hierarchical depth under the value of <code class="codeph"><a href="olh.htm#GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__BABEFCBE">oracle.kv.parentKey</a></code>. The following keywords are valid values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">CHILDREN_ONLY</code>: Returns the children, but not the specified parent.</p>
</li>
<li>
<p><code class="codeph">DESCENDANTS_ONLY</code>: Returns all descendants, but not the specified parent.</p>
</li>
<li>
<p><code class="codeph">PARENT_AND_CHILDREN</code>: Returns the children and the parent.</p>
</li>
<li>
<p><code class="codeph">PARENT_AND_DESCENDANTS</code>: Returns all descendants and the parent.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-534E9159-2600-4399-8FDA-E6F3773ABBE5">
<td class="cellalignment2" id="d19675e6154" headers="d19675e5995">
<p><span class="bold">oracle.kv.consistency</span></p>
</td>
<td class="cellalignment2" headers="d19675e6154 d19675e5997">
<p><span class="bold">Type</span>: Consistency</p>
<p><span class="bold">Default Value</span>: <code class="codeph">NONE_REQUIRED</code></p>
<p><span class="bold">Description</span>: The consistency guarantee for reading child key-value pairs. The following keywords are valid values:</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph">ABSOLUTE</code>: Requires the master to service the transaction so that consistency is absolute.</p>
</li>
<li>
<p><code class="codeph">NONE_REQUIRED</code>: Allows replicas to service the transaction, regardless of the state of the replicas relative to the master.</p>
</li>
</ul>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-9CBE0377-675D-4B9A-8D2D-94B76187CBCD">
<td class="cellalignment2" id="d19675e6185" headers="d19675e5995">
<p><span class="bold">oracle.kv.timeout</span></p>
</td>
<td class="cellalignment2" headers="d19675e6185 d19675e5997">
<p><span class="bold">Type</span>: Long</p>
<p><span class="bold">Default Value</span>:</p>
<p><span class="bold">Description</span>: Sets a maximum time interval in milliseconds for retrieving a selection of key-value pairs. A value of zero (0) sets the property to its default value.</p>
</td>
</tr>
<tr class="cellalignment2" id="GUID-8D428E86-5EA8-4919-A0DE-1FE163436B52__GUID-803AA518-159E-4C93-935F-5765E163747E">
<td class="cellalignment2" id="d19675e6203" headers="d19675e5995">
<p><span class="bold">oracle.kv.formatterClass</span></p>
</td>
<td class="cellalignment2" headers="d19675e6203 d19675e5997">
<p><span class="bold">Type</span>: String</p>
<p><span class="bold">Default Value</span>: Not defined</p>
<p><span class="bold">Description</span>: Specifies the name of a class that implements the <code class="codeph">AvroFormatter</code> interface to format <code class="codeph">KeyValueVersion</code> instances into Avro <code class="codeph">IndexedRecord</code> strings.</p>
<p>Because the Avro records from Oracle NoSQL Database pass directly to Oracle Loader for Hadoop, the NoSQL keys are not available for mapping into the target Oracle Database table. However, the formatter class receives both the NoSQL key and value, enabling the class to create and return a new Avro record that contains both the value and key, which can be passed to Oracle Loader for Hadoop.</p>
</td>
</tr>
</tbody>
</table>
</div>
<!-- class="inftblhruleinformal" --></div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-62577B2C-C4D3-4180-8E9F-8D965AA29267"></a>
<h2 id="BDCUG-GUID-62577B2C-C4D3-4180-8E9F-8D965AA29267" class="sect2"><span class="enumeration_section">3.15</span> Third-Party Licenses for Bundled Software</h2>
<div>
<div class="section">
<p><a id="d19675e6251" class="indexterm-anchor"></a><a id="d19675e6253" class="indexterm-anchor"></a>Oracle Loader for Hadoop includes the following third-party products:</p>
<ul style="list-style-type: disc;">
<li>
<p>Apache Avro 1.8.1</p>
</li>
<li>
<p>Apache Commons Mathematics Library 2.2</p>
</li>
</ul>
<p>Oracle Loader for Hadoop includes Oracle 12<span class="italic">c</span> Release 1(12.1) client libraries. For information about third party products included with Oracle Database 12<span class="italic">c</span> Release 1 (12.1), refer to <a class="olink DBLIC-GUID-B6113390-9586-46D7-9008-DCC9EDA45AB4" target="_blank" href="http://www.oracle.com/pls/topic/lookup?ctx=E87334-01&amp;id=DBLIC-GUID-B6113390-9586-46D7-9008-DCC9EDA45AB4"><span class="italic">Oracle Database Licensing Information</span></a>.</p>
<p>Oracle Loader for Hadoop builds and tests with Hadoop 2.2.0.</p>
<p><span class="bold">Unless otherwise specifically noted, or as required under the terms of the third party license (e.g., LGPL), the licenses and statements herein, including all statements regarding Apache-licensed code, are intended as notices only.</span></p>
</div>
<!-- class="section" --></div>
<div class="props_rev_3"><a id="GUID-9320A8D4-1D32-4E7E-B9B3-9D9F85B490D3"></a>
<h3 id="BDCUG-GUID-9320A8D4-1D32-4E7E-B9B3-9D9F85B490D3" class="sect3"><span class="enumeration_section">3.15.1</span> Apache Licensed Code</h3>
<div>
<div class="section">
<p>The following is included as a notice in compliance with the terms of the Apache 2.0 License, and applies to all programs licensed under the Apache 2.0 license:</p>
<p>You may not use the identified files except in compliance with the Apache License, Version 2.0 (the "License.")</p>
<p>You may obtain a copy of the License at</p>
<p><a href="http://www.oracle.com/pls/lookup?ctx=E71937-01&amp;id=apache_licenses_2.0" target="_blank"><code class="codeph">http://www.apache.org/licenses/LICENSE-2.0</code></a></p>
<p>A copy of the license is also reproduced below.</p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</p>
<p>See the License for the specific language governing permissions and limitations under the License.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-6AE555DE-5B16-42C9-9AF6-5BDB555497C5"></a>
<h3 id="BDCUG-GUID-6AE555DE-5B16-42C9-9AF6-5BDB555497C5" class="sect3"><span class="enumeration_section">3.15.2</span> Apache License</h3>
<div>
<div class="section">
<ul class="simple" style="list-style-type: none;padding-left:0;">
<li>Version 2.0, January 2004</li>
<li><a href="http://www.apache.org/licenses/" target="_blank"><code class="codeph">http://www.apache.org/licenses/</code></a></li>
</ul>
<p>TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION</p>
<ol>
<li>
<p><span class="bold">Definitions</span></p>
<p>"License" shall mean the terms and conditions for use, reproduction, and distribution as defined by Sections 1 through 9 of this document.</p>
<p>"Licensor" shall mean the copyright owner or entity authorized by the copyright owner that is granting the License.</p>
<p>"Legal Entity" shall mean the union of the acting entity and all other entities that control, are controlled by, or are under common control with that entity. For the purposes of this definition, "control" means (i) the power, direct or indirect, to cause the direction or management of such entity, whether by contract or otherwise, or (ii) ownership of fifty percent (50%) or more of the outstanding shares, or (iii) beneficial ownership of such entity.</p>
<p>"You" (or "Your") shall mean an individual or Legal Entity exercising permissions granted by this License.</p>
<p>"Source" form shall mean the preferred form for making modifications, including but not limited to software source code, documentation source, and configuration files.</p>
<p>"Object" form shall mean any form resulting from mechanical transformation or translation of a Source form, including but not limited to compiled object code, generated documentation, and conversions to other media types.</p>
<p>"Work" shall mean the work of authorship, whether in Source or Object form, made available under the License, as indicated by a copyright notice that is included in or attached to the work (an example is provided in the Appendix below).</p>
<p>"Derivative Works" shall mean any work, whether in Source or Object form, that is based on (or derived from) the Work and for which the editorial revisions, annotations, elaborations, or other modifications represent, as a whole, an original work of authorship. For the purposes of this License, Derivative Works shall not include works that remain separable from, or merely link (or bind by name) to the interfaces of, the Work and Derivative Works thereof.</p>
<p>"Contribution" shall mean any work of authorship, including the original version of the Work and any modifications or additions to that Work or Derivative Works thereof, that is intentionally submitted to Licensor for inclusion in the Work by the copyright owner or by an individual or Legal Entity authorized to submit on behalf of the copyright owner. For the purposes of this definition, "submitted" means any form of electronic, verbal, or written communication sent to the Licensor or its representatives, including but not limited to communication on electronic mailing lists, source code control systems, and issue tracking systems that are managed by, or on behalf of, the Licensor for the purpose of discussing and improving the Work, but excluding communication that is conspicuously marked or otherwise designated in writing by the copyright owner as "Not a Contribution."</p>
<p>"Contributor" shall mean Licensor and any individual or Legal Entity on behalf of whom a Contribution has been received by Licensor and subsequently incorporated within the Work.</p>
</li>
<li>
<p><span class="bold">Grant of Copyright License</span>. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to reproduce, prepare Derivative Works of, publicly display, publicly perform, sublicense, and distribute the Work and such Derivative Works in Source or Object form.</p>
</li>
<li>
<p><span class="bold">Grant of Patent License</span>. Subject to the terms and conditions of this License, each Contributor hereby grants to You a perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise transfer the Work, where such license applies only to those patent claims licensable by such Contributor that are necessarily infringed by their Contribution(s) alone or by combination of their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit) alleging that the Work or a Contribution incorporated within the Work constitutes direct or contributory patent infringement, then any patent licenses granted to You under this License for that Work shall terminate as of the date such litigation is filed.</p>
</li>
<li>
<p><span class="bold">Redistribution</span>. You may reproduce and distribute copies of the Work or Derivative Works thereof in any medium, with or without modifications, and in Source or Object form, provided that You meet the following conditions:</p>
<ol>
<li>
<p>You must give any other recipients of the Work or Derivative Works a copy of this License; and</p>
</li>
<li>
<p>You must cause any modified files to carry prominent notices stating that You changed the files; and</p>
</li>
<li>
<p>You must retain, in the Source form of any Derivative Works that You distribute, all copyright, patent, trademark, and attribution notices from the Source form of the Work, excluding those notices that do not pertain to any part of the Derivative Works; and</p>
</li>
<li>
<p>If the Work includes a "NOTICE" text file as part of its distribution, then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file, excluding those notices that do not pertain to any part of the Derivative Works, in at least one of the following places: within a NOTICE text file distributed as part of the Derivative Works; within the Source form or documentation, if provided along with the Derivative Works; or, within a display generated by the Derivative Works, if and wherever such third-party notices normally appear. The contents of the NOTICE file are for informational purposes only and do not modify the License. You may add Your own attribution notices within Derivative Works that You distribute, alongside or as an addendum to the NOTICE text from the Work, provided that such additional attribution notices cannot be construed as modifying the License.</p>
</li>
</ol>
<p>You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for use, reproduction, or distribution of Your modifications, or for any such Derivative Works as a whole, provided Your use, reproduction, and distribution of the Work otherwise complies with the conditions stated in this License.</p>
</li>
<li>
<p><span class="bold">Submission of Contributions</span>. Unless You explicitly state otherwise, any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this License, without any additional terms or conditions. Notwithstanding the above, nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions.</p>
</li>
<li>
<p><span class="bold">Trademarks</span>. This License does not grant permission to use the trade names, trademarks, service marks, or product names of the Licensor, except as required for reasonable and customary use in describing the origin of the Work and reproducing the content of the NOTICE file.</p>
</li>
<li>
<p><span class="bold">Disclaimer of Warranty</span>. Unless required by applicable law or agreed to in writing, Licensor provides the Work (and each Contributor provides its Contributions) on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied, including, without limitation, any warranties or conditions of TITLE, NON-INFRINGEMENT, MERCHANTABILITY, or FITNESS FOR A PARTICULAR PURPOSE. You are solely responsible for determining the appropriateness of using or redistributing the Work and assume any risks associated with Your exercise of permissions under this License.</p>
</li>
<li>
<p><span class="bold">Limitation of Liability</span>. In no event and under no legal theory, whether in tort (including negligence), contract, or otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or agreed to in writing, shall any Contributor be liable to You for damages, including any direct, indirect, special, incidental, or consequential damages of any character arising as a result of this License or out of the use or inability to use the Work (including but not limited to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all other commercial damages or losses), even if such Contributor has been advised of the possibility of such damages.</p>
</li>
<li>
<p><span class="bold">Accepting Warranty or Additional Liability</span>. While redistributing the Work or Derivative Works thereof, You may choose to offer, and charge a fee for, acceptance of support, warranty, indemnity, or other liability obligations and/or rights consistent with this License. However, in accepting such obligations, You may act only on Your own behalf and on Your sole responsibility, not on behalf of any other Contributor, and only if You agree to indemnify, defend, and hold each Contributor harmless for any liability incurred by, or claims asserted against, such Contributor by reason of your accepting any such warranty or additional liability.</p>
</li>
</ol>
<p>END OF TERMS AND CONDITIONS</p>
<p><span class="bold">APPENDIX: How to apply the Apache License to your work</span></p>
<p>To apply the Apache License to your work, attach the following boilerplate notice, with the fields enclosed by brackets "[]" replaced with your own identifying information. (Don't include the brackets!) The text should be enclosed in the appropriate comment syntax for the file format. We also recommend that a file or class name and description of purpose be included on the same "printed page" as the copyright notice for easier identification within third-party archives.</p>
<p>Copyright [yyyy] [name of copyright owner]</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank"><code class="codeph">http://www.apache.org/licenses/LICENSE-2.0</code></a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
This product includes software developed by The Apache Software Foundation (<a href="http://www.apache.org/" target="_blank"><span class="bold">http://www.apache.org/</span></a>) (listed below):</div>
<!-- class="section" --></div>
<div class="props_rev_3"><a id="GUID-6BA21DA0-B108-42A2-98B7-228278036BA6"></a>
<h4 id="BDCUG-GUID-6BA21DA0-B108-42A2-98B7-228278036BA6" class="sect4"><span class="enumeration_section">3.15.2.1</span> Apache Avro 1.8.1</h4>
<div>
<div class="section">
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use Apache Avro except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank"><code class="codeph">http://www.apache.org/licenses/LICENSE-2.0</code></a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
<!-- class="section" --></div>
</div>
<div class="props_rev_3"><a id="GUID-9309AE14-5B12-4A0D-8C81-D4A6E192CDBA"></a>
<h4 id="BDCUG-GUID-9309AE14-5B12-4A0D-8C81-D4A6E192CDBA" class="sect4"><span class="enumeration_section">3.15.2.2</span> Apache Commons Mathematics Library 2.2</h4>
<div>
<div class="section">
<p>Copyright 2001-2011 The Apache Software Foundation</p>
<p>Licensed under the Apache License, Version 2.0 (the "License"); you may not use the Apache Commons Mathematics library except in compliance with the License. You may obtain a copy of the License at</p>
<p><a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank"><code class="codeph">http://www.apache.org/licenses/LICENSE-2.0</code></a></p>
<p>Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.</p>
</div>
<!-- class="section" --></div>
</div>
</div>
</div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment1">
<tr>
<td class="cellalignment42">
<table class="cellalignment6">
<tr>
<td class="cellalignment5"><a href="osch.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment5"><a href="easofusetools.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2011, 2017, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment44">
<table class="cellalignment4">
<tr>
<td class="cellalignment5"><a href="http://docs.oracle.com/bigdata/bda49/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment5"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment5"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment5"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
