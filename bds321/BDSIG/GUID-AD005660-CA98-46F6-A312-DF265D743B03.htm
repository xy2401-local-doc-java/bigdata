<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Determining the Correct Software Version and Composing the Download Paths for Hadoop Clients</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="dcterms.created" content="2018-08-03T19:36:02Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Big Data SQL Installation Guide" />
<meta name="dcterms.identifier" content="E87608-09" />
<meta name="dcterms.isVersionOf" content="BDSIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/bigdata/bds321/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="installoutput.htm" title="Previous" type="text/html" />
<link rel="Next" href="licensing.htm" title="Next" type="text/html" />
<link rel="alternate" href="E87608-09.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>
<script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-AD005660-CA98-46F6-A312-DF265D743B03"></a> <span id="PAGE" style="display:none;">16/18</span> <!-- End Header -->
<h1 id="BDSIG-GUID-AD005660-CA98-46F6-A312-DF265D743B03" class="sect1"><span class="enumeration_appendix">D</span> Determining the Correct Software Version and Composing the Download Paths for Hadoop Clients</h1>
<div>
<div class="section">
<div class="p">To configure <code class="codeph">bds-database-create-bundle.sh</code> to download the Hadoop, Hive, and HBase tarballs, you must supply an URL to each these parameters:
<pre dir="ltr">
--hive-client-ws
--hadoop-client-ws
--hbase-client-ws
</pre></div>
<p>To get the information needed to provide the correct URL, first check the content management service (CM or Ambari) and find the version of the Hadoop, Hive, and HBase services running on the Hadoop cluster. The compatible clients are of the same versions. In each case, the client tarball filename includes a version string segment that matches the version of the service installed on the cluster. In the case of CDH, you can then browse the public repository and find the URL to the client that matches the service version. For the HDP repository this would require a tool that can browse Amazon S3 storage. However you can also compose the correct URL using the known URL pattern along with information that you can acquire from Ambari, as described in this section.</p>
<p><span class="bold">For CDH (Both Oracle Big Data Appliance and Commodity CDH Systems):</span></p>
<ol>
<li>
<p>Log on to Cloudera Manager and go to the <span class="bold">Hosts</span> menu. Select <span class="bold">All Hosts</span> , then <span class="bold">Inspect All Hosts</span>.</p>
</li>
<li>
<p>When the inspection is finished, select either <span class="bold">Show Inspector Results</span> (on the screen) or <span class="bold">Download Result Data</span> (to a JSON file).</p>
</li>
<li>
<p>In either case, scan the result set and find the service versions.</p>
<div class="p">In JSON version of the inspector results, there is a <code class="codeph">componentInfo</code> section for each cluster that shows the versions of software installed on that cluster. For example:
<pre dir="ltr">
           "componentInfo": [
                ...              
         {                 
            "cdhVersion": "CDH5",                  
            "componentRelease": "1.cdh5.11.1.p0.6",                
         <span class="bold">"componentVersion": "2.6.0+cdh5.11.1+2400",</span>
         <span class="bold">"name": "hadoop"</span>             
         },              
        ...
</pre></div>
</li>
<li>
<p>Go to <a href="http://archive-primary.cloudera.com/cdh5/cdh/5" target="_blank">http://archive-primary.cloudera.com/cdh5/cdh/5</a>.</p>
<p>Look in the &rdquo;hadoop,&rdquo; hive,&rdquo; and &ldquo;hbase&rdquo; subdirectories of the CDH5 section of the archive. In the listings, you should find the client packages for the versions of the services installed on the cluster.</p>
</li>
<li>
<p>Copy the URLs and use them as the parameter values supplied to <code class="codeph">bds-database-create-bundle.sh</code>. For example:</p>
<pre dir="ltr">
http://archive-primary.cloudera.com/cdh5/cdh/5/hadoop-2.6.0-cdh5.11.1.tar.gz
http://archive-primary.cloudera.com/cdh5/cdh/5/hive-1.1.0-cdh5.11.1.tar.gz
http://archive-primary.cloudera.com/cdh5/cdh/5/hbase-1.2.0-cdh5.11.1.tar.gz 
</pre></li>
</ol>
<div class="infoboxnotealso" id="GUID-AD005660-CA98-46F6-A312-DF265D743B03__GUID-E445AAA7-695C-4FFA-AC3C-36E13C0A7E67">
<p class="notep1">See Also:</p>
Search for &ldquo;Host Inspector&rdquo; on <a href="https://www.cloudera.com/documentation.html" target="_blank">Cloudera</a> website if you need more help using this tool to determine installed software versions.</div>
<p><span class="bold">For HDP:</span></p>
<ol>
<li>
<p>Log on to Ambari. Go to <span class="bold">Admin</span>, then <span class="bold">Stack and Versions</span>. On the <span class="bold">Stack</span> tab, locate the entries for the HDFS, Hive, and HBase services and note down the version number of each as the &ldquo;<code class="codeph">service version</code>.&rdquo;</p>
</li>
<li>
<p>Click the <span class="bold">Versions</span> tab. Note down the version of HDP that is running on the cluster as the &ldquo;<code class="codeph">HDP version base</code>.&rdquo;</p>
</li>
<li>
<p>Click <span class="bold">Show Details</span> to display a pop-up window that shows the full version string for the installed HDP release. Note this down as the &ldquo;<code class="codeph">HDP full version</code>&rdquo;</p>
</li>
<li>
<p>The last piece of information needed is the Linux version (&ldquo;centos5,&rdquo; &ldquo;centos6,&rdquo; or &ldquo;centos7&rdquo;). Note this down as &ldquo;<code class="codeph">OS version</code>.&rdquo;</p>
</li>
</ol>
<p>To search though the HDP repository in Amazon S3 storage to find the correct client URLs using this information acquired in this steps, you would need an S3 browser, browser extension, or command line tool. As alternative, you can piece together the correct URLs, using these strings.</p>
<p>For HDP 2.5 and earlier, the URLs pattern is as follows.</p>
<pre dir="ltr">
http://public-repo-1.hortonworks.com/HDP/&lt;<span class="italic">OS version</span>&gt;/2.x/updates/&lt;<span class="italic">HDP version base</span>&gt;/tars/{<span class="italic">hadoop</span>|<span class="italic">apache-hive</span>|<span class="italic">hbase</span>}-&lt;<span class="italic">service version</span>&gt;.&lt;<span class="italic">HDP full version</span>&gt;.tar.gz
</pre>
<p>Here are some examples. Note that the pattern of the gzip filename is slightly different for Hive. There is an extra &ldquo;<code class="codeph">-bin</code>&rdquo; segment in the name.</p>
<pre dir="ltr">
http://public-repo-1.hortonworks.com/HDP/centos6/2.x/updates/2.3.2.0/tars/hadoop-2.7.1.2.3.2.0-2950.tar.gz
http://public-repo-1.hortonworks.com/HDP/centos6/2.x/updates/2.3.2.0/tars/apache-hive-1.2.1.2.3.2.0-2950-bin.tar.gz
http://public-repo-1.hortonworks.com/HDP/centos6/2.x/updates/2.3.2.0/tars/hbase-1.1.2.2.3.2.0-2950.tar.gz 
</pre>
<div class="p">For HDP 2.5 and later releases, the pattern is almost the same except that there is an additional <code class="codeph">hadoop</code>, <code class="codeph">hive</code>, or <code class="codeph">hbase</code> directory under the <code class="codeph">tar</code> directory:
<pre dir="ltr">
http://public-repo-1.hortonworks.com/HDP/centos6/2.x/updates/2.5.6.0/tars/hadoop/hadoop-2.7.3.2.5.6.0-40.tar.gz
http://public-repo-1.hortonworks.com/HDP/centos6/2.x/updates/2.5.6.0/tars/hive/apache-hive-1.2.1000.2.5.6.0-40-bin.tar.gz
http://public-repo-1.hortonworks.com/HDP/centos6/2.x/updates/2.5.6.0/tars/hbase/hbase-1.1.2.2.5.6.0-40.tar.gz 
</pre></div>
<p><span class="bold">Alternative Method for HDP:</span></p>
<p>You can get the required software versions from the command line instead of using Ambari.</p>
<ul style="list-style-type: disc;">
<li>
<p><code class="codeph"># hdp-select versions</code></p>
<p>Copy and save the numbers to the left of the dash as the &ldquo;<code class="codeph">HDP version base</code>&rdquo;.</p>
</li>
<li>
<div class="p">
<pre dir="ltr">
# hadoop version 
# beeline --version 
# hbase version
</pre>
Use the output from these commands to formulate the &lt;<code class="codeph"><span class="codeinlineitalic">service version</span></code>&gt;.&lt;<code class="codeph"><span class="codeinlineitalic">HDP full version</span></code>&gt; segment for each URL.</div>
</li>
</ul>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment53">
<tr>
<td class="cellalignment60">
<table class="cellalignment58">
<tr>
<td class="cellalignment57"><a href="installoutput.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment57"><a href="licensing.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment62">
<table class="cellalignment56">
<tr>
<td class="cellalignment57"><a href="http://docs.oracle.com/bigdata/bds321/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment57"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment57"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment57"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment57"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
