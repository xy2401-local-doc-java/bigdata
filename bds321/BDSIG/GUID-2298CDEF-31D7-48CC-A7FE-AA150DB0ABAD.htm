<!DOCTYPE html>
<html lang="en-US" >
<head>
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="UTF-8" />
<title>Reconfiguring an Existing Oracle Big Data SQL Installation</title>
<meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)" />
<meta name="description" content="When Oracle Big Data SQL is installed on the cluster management server, the database-side installation bundle that is generated contains configuration information that is based on the current state of the cluster. When you install the bundle on the Oracle Database side, this configuration information is used to set up the connnection between the Hadoop cluster and the database server. After the installation, changes in the Hadoop cluster may require an update to the Oracle Big Data SQL configuration both sides (Hadoop cluster and database server) in order to maintain connectivity." />
<meta name="dcterms.created" content="2018-08-03T19:36:02Z" />
<meta name="robots" content="all" />
<meta name="dcterms.title" content="Big Data SQL Installation Guide" />
<meta name="dcterms.identifier" content="E87608-09" />
<meta name="dcterms.isVersionOf" content="BDSIG" />
<meta name="dcterms.rights" content="Copyright&nbsp;&copy;&nbsp;2012, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved." />
<link rel="Start" href="http://docs.oracle.com/bigdata/bds321/index.html" title="Home" type="text/html" />
<link rel="Copyright" href="../dcommon/html/cpyr.htm" title="Copyright" type="text/html" />

<script type="application/javascript"  src="../dcommon/js/headfoot.js"></script>
<script type="application/javascript"  src="../nav/js/doccd.js" charset="UTF-8"></script>
<link rel="Contents" href="toc.htm" title="Contents" type="text/html" />
<link rel="Index" href="index.htm" title="Index" type="text/html" />
<link rel="Prev" href="GUID-6C300932-B09F-4AE2-873E-3FCAED097511.htm" title="Previous" type="text/html" />
<link rel="Next" href="uninstall.htm" title="Next" type="text/html" />
<link rel="alternate" href="E87608-09.pdf" title="PDF version" type="application/pdf" />
<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
<link rel="stylesheet" href="../dcommon/css/fusiondoc.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/header.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/footer.css">
<link rel="stylesheet" type="text/css"  href="../dcommon/css/fonts.css">
<link rel="stylesheet" href="../dcommon/css/foundation.css">
<link rel="stylesheet" href="../dcommon/css/codemirror.css">
<link rel="stylesheet" type="text/css" title="Default" href="../nav/css/html5.css">
<link rel="stylesheet" href="../dcommon/css/respond-480-tablet.css">
<link rel="stylesheet" href="../dcommon/css/respond-768-laptop.css">
<link rel="stylesheet" href="../dcommon/css/respond-1140-deskop.css">
<script type="application/javascript" src="../dcommon/js/modernizr.js"></script>
<script type="application/javascript" src="../dcommon/js/codemirror.js"></script>
<script type="application/javascript" src="../dcommon/js/jquery.js"></script>
<script type="application/javascript" src="../dcommon/js/foundation.min.js"></script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-552992c80ef99c8d" async="async"></script>
<script type="application/javascript" src="../dcommon/js/jqfns.js"></script>
<script type="application/javascript" src="../dcommon/js/ohc-inline-videos.js"></script>
<!-- Add fancyBox -->
<link rel="stylesheet" href="../dcommon/fancybox/jquery.fancybox.css?v=2.1.5" type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/jquery.fancybox.pack.js?v=2.1.5"></script>
<!-- Optionally add helpers - button, thumbnail and/or media -->
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-buttons.css?v=1.0.5"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-buttons.js?v=1.0.5"></script>
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-media.js?v=1.0.6"></script>
<link rel="stylesheet"  href="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.css?v=1.0.7"  type="text/css" media="screen" />
<script type="text/javascript" src="../dcommon/fancybox/helpers/jquery.fancybox-thumbs.js?v=1.0.7"></script>

                    <script>var w=window;if(w.performance||w.mozPerformance||w.msPerformance||w.webkitPerformance){var d=document;AKSB=w.AKSB||{},AKSB.q=AKSB.q||[],AKSB.mark=AKSB.mark||function(e,_){AKSB.q.push(["mark",e,_||(new Date).getTime()])},AKSB.measure=AKSB.measure||function(e,_,t){AKSB.q.push(["measure",e,_,t||(new Date).getTime()])},AKSB.done=AKSB.done||function(e){AKSB.q.push(["done",e])},AKSB.mark("firstbyte",(new Date).getTime()),AKSB.prof={custid:"322179",ustr:"",originlat:"0",clientrtt:"0",ghostip:"23.212.3.15",ipv6:false,pct:"10",clientip:"45.78.37.67",requestid:"146a6db",region:"32996",protocol:"",blver:14,akM:"dsca",akN:"ae",akTT:"O",akTX:"1",akTI:"146a6db",ai:"206465",ra:"false",pmgn:"",pmgi:"",pmp:"",qc:""},function(e){var _=d.createElement("script");_.async="async",_.src=e;var t=d.getElementsByTagName("script"),t=t[t.length-1];t.parentNode.insertBefore(_,t)}(("https:"===d.location.protocol?"https:":"http:")+"//ds-aksb-a.akamaihd.net/aksb.min.js")}</script>
                    <script>window.ohcglobal || document.write('<script src="/en/dcommon/js/global.js">\x3C/script>')</script></head>
<body>
<a href="#BEGIN" class="accessibility-top skipto" tabindex="0">Go to main content</a><header><!--
<div class="zz-skip-header"><a id="top" href="#BEGIN">Go to main content</a>--></header>
<div class="row" id="CONTENT">
<div class="IND large-9 medium-8 columns" dir="ltr">
<a id="BEGIN" name="BEGIN"></a>
<a id="GUID-2298CDEF-31D7-48CC-A7FE-AA150DB0ABAD"></a> <span id="PAGE" style="display:none;">9/18</span> <!-- End Header -->
<h1 id="BDSIG-GUID-2298CDEF-31D7-48CC-A7FE-AA150DB0ABAD" class="sect1"><span class="enumeration_section">5.1</span> Reconfiguring an Existing Oracle Big Data SQL Installation</h1>
<div>
<p>When Oracle Big Data SQL is installed on the cluster management server, the database-side installation bundle that is generated contains configuration information that is based on the current state of the cluster. When you install the bundle on the Oracle Database side, this configuration information is used to set up the connnection between the Hadoop cluster and the database server. After the installation, changes in the Hadoop cluster may require an update to the Oracle Big Data SQL configuration both sides (Hadoop cluster and database server) in order to maintain connectivity.</p>
<div class="section">
<p><a id="d9683e17" class="indexterm-anchor"></a><a id="d9683e19" class="indexterm-anchor"></a><a id="d9683e21" class="indexterm-anchor"></a><a id="d9683e23" class="indexterm-anchor"></a><a id="d9683e25" class="indexterm-anchor"></a><a id="d9683e27" class="indexterm-anchor"></a>Here are some Hadoop-side changes which require you to reconfigure the installation:</p>
<ul style="list-style-type: disc;">
<li>
<p>Network security changes, such as a switch from HTTP to HTTPS or vice versa.</p>
</li>
<li>
<p>Port reassignments in the cluster management service (CM or Ambari).</p>
</li>
<li>
<p>Hive changes, such as migration of the service to different node or nodes or a change to the authentication method.</p>
</li>
<li>
<p>Changes to other related Hadoop services, such as HDFS, MapReduce2, and YARN, may also affect connectivity.</p>
</li>
</ul>
<div class="infobox-note" id="GUID-2298CDEF-31D7-48CC-A7FE-AA150DB0ABAD__GUID-1472838C-4DAE-4933-B861-D9BC194E782D">
<p class="notep1">Note:</p>
<p>The <code class="codeph">reconfigure</code> procedure cannot be used to update the installation of an older version of Oracle Big Data SQL. You should instead overwrite the old installation with the current Oracle Big Data SQL version.</p>
<p>Do not use this procedure if the only changes are to the DataNode inventory in the cluster (if DataNodes, are moved, added, or removed). In that case, use the <code class="codeph">updatenodes</code> procedures instead.</p>
</div>
<ol>
<li>
<p>As root on the Hadoop cluster management server, make any necessary updates to the configuration file for the connection between the Hadoop cluster and Oracle Database (<code class="codeph">bds-config.json</code> or other).</p>
</li>
<li>
<p>Go to the <code class="codeph">BDSJaguar-3.2.1</code> directory and run Jaguar to invoke the <code class="codeph">reconfigure</code> operation. Pass in the configuration filename.</p>
<pre dir="ltr">
# cd &lt;Big Data SQL install directory&gt;/BDSJaguar-3.2.1
# ./jaguar reconfigure bds-config.json
</pre>
<p>This updates the Oracle Big Data SQL installation on the Hadoop cluster and generates a new database-side installation bundle, which you can find at <code class="codeph">&lt;<span class="codeinlineitalic">Oracle Big Data SQL Install Directory</span>&gt;/BDSJaguar-3.2.1/dbbundles</code>.</p>
<div class="infobox-note" id="GUID-2298CDEF-31D7-48CC-A7FE-AA150DB0ABAD__GUID-398CE449-F381-4207-9F00-32B1B3ECCBA2">
<p class="notep1">Note:</p>
If you are using Database Authentication and already provided a request key to the database-side installer when you did the original installation, then you do not need to do again. That is, you do not need to include <code class="codeph">--requestdb</code> in a <code class="codeph">reconfigure</code> operation unless you want to set up a connection to another database.</div>
</li>
<li>
<p>As in the original installation, copy the new bundle file to a temporary directory each database node. Connect using the <code class="codeph">oracle</code> account on the database node. For example:</p>
<pre dir="ltr">
# scp bds-3.2.1-db-&lt;<span class="italic">cluster</span>&gt;-&lt;<span class="italic">yymmdd.hhmi</span>&gt;.zip oracle@dbnode:/opt/tmp
</pre></li>
<li>
<p>Log on to the database node as the <code class="codeph">oracle</code> user.</p>
</li>
<li>
<p>Locate the bundle and unzip it.</p>
</li>
<li>
<p>Run the executable file extracted from the bundle.</p>
<pre dir="ltr">
[oracle@mydbserver: $ bds-3.2.1-db-&lt;<span class="italic">cluster</span>&gt;-&lt;<span class="italic">yymmdd.hhmi</span>&gt;.run
</pre>
<p>This extracts the installation files into a new directory under ORACLE_HOME.</p>
</li>
<li>
<p>Change directories to ORACLE_HOME and list the subdirectories. You should see the old installation directory along with the new one. The directory names will include the same cluster name, but will have different timestamps. Delete the old directory.</p>
<pre dir="ltr">
$ cd $ORACLE_HOME 
$ ls
  bds-3.2.1-db-&lt;<span class="italic">cluster</span>&gt;-&lt;<span class="italic">new timestamp</span>&gt;
  bds-3.2.1-db-&lt;<span class="italic">cluster</span>&gt;-&lt;<span class="italic">old timestamp</span>&gt;
$ rm -rf bds-3.2.1-db-&lt;<span class="italic">cluster</span>&gt;-&lt;<span class="italic">old timestamp</span>&gt;
</pre></li>
<li>
<p>Change directories to the new directory.</p>
<p>Run <code class="codeph">bds-database-install.sh</code> with the <code class="codeph">--reconfigure</code> parameter.</p>
<pre dir="ltr">
$ ./bds-database-install.sh --reconfigure
</pre></li>
</ol>
</div>
<!-- class="section" --></div>
</div>
<!-- class="ind" --><!-- Start Footer -->
</div>
<!-- add extra wrapper close div-->
<footer><!--
<hr />
<table class="cellalignment53">
<tr>
<td class="cellalignment60">
<table class="cellalignment58">
<tr>
<td class="cellalignment57"><a href="GUID-6C300932-B09F-4AE2-873E-3FCAED097511.htm"><img width="24" height="24" src="../dcommon/gifs/leftnav.gif" alt="Go to previous page" /><br />
<span class="icon">Previous</span></a></td>
<td class="cellalignment57"><a href="uninstall.htm"><img width="24" height="24" src="../dcommon/gifs/rightnav.gif" alt="Go to next page" /><br />
<span class="icon">Next</span></a></td>
</tr>
</table>
</td>
<td class="cellalignment-copyrightlogo"><img width="144" height="18" src="../dcommon/gifs/oracle.gif" alt="Oracle" /><br />
Copyright&nbsp;&copy;&nbsp;2012, 2018, Oracle&nbsp;and/or&nbsp;its&nbsp;affiliates.&nbsp;All&nbsp;rights&nbsp;reserved.<br />
<a href="../dcommon/html/cpyr.htm">Legal Notices</a></td>
<td class="cellalignment62">
<table class="cellalignment56">
<tr>
<td class="cellalignment57"><a href="http://docs.oracle.com/bigdata/bds321/index.html"><img width="24" height="24" src="../dcommon/gifs/doclib.gif" alt="Go to Documentation Home" /><br />
<span class="icon">Home</span></a></td>
<td class="cellalignment57"><a href="../nav/portal_booklist.htm"><img width="24" height="24" src="../dcommon/gifs/booklist.gif" alt="Go to Book List" /><br />
<span class="icon">Book List</span></a></td>
<td class="cellalignment57"><a href="toc.htm"><img width="24" height="24" src="../dcommon/gifs/toc.gif" alt="Go to Table of Contents" /><br />
<span class="icon">Contents</span></a></td>
<td class="cellalignment57"><a href="index.htm"><img width="24" height="24" src="../dcommon/gifs/index.gif" alt="Go to Index" /><br />
<span class="icon">Index</span></a></td>
<td class="cellalignment57"><a href="../dcommon/html/feedback.htm"><img width="24" height="24" src="../dcommon/gifs/feedbck2.gif" alt="Go to Feedback page" /><br />
<span class="icon">Contact Us</span></a></td>
</tr>
</table>
</td>
</tr>
</table>
--></footer>
<noscript>
<p>Scripting on this page enhances content navigation, but does not change the content in any way.</p>
</noscript>
</body>
</html>
